# 叨叨房车小程序端实施计划

**文档版本**: v1.0.0 | **创建时间**: 2025-11-26 | **适用范围**: 小程序端开发团队

---

## 📋 项目概述

**实施目标**: 基于产品需求文档和技术栈文档，制定详细的开发实施计划，确保小程序端功能完整、高质量交付。

**技术栈**: Vue 3 + TypeScript + uni-app + uni-ui + Pinia
**开发平台**: 微信小程序（主要）、多端兼容
**开发工具**: HBuilderX + 微信开发者工具

---

## 🎯 实施策略

### 核心原则

1. **页面优先**: 以4个核心页面为开发主线
2. **组件复用**: 先开发通用组件，再组装页面
3. **Mock先行**: 使用Mock数据完成页面开发，记录API需求
4. **单步执行**: 每次只执行一个步骤，完成验证测试后再继续
5. **严格测试**: 每个步骤完成后必须通过验证测试

### 开发顺序

**阶段1**: 基础架构 → **阶段2**: 核心页面 → **阶段3**: 业务功能 → **阶段4**: 优化完善

---

## 📅 实施计划

### 阶段一：基础架构和核心组件 (第1-2周)

#### 步骤1: 项目基础配置和开发环境搭建

**目标**: 完善项目配置，确保开发环境可用

**具体任务**:
1. 检查并完善 `manifest.json` 配置
2. 验证 `pages.json` 路由配置和 easycom 设置
3. 检查 `uni.scss` 全局样式配置
4. 验证 `uni-ui` 组件库安装和配置
5. 配置 TypeScript 严格模式
6. 设置开发工具和调试环境

**验证测试**:
- [ ] HBuilderX 可以正常运行项目
- [ ] 微信开发者工具可以正确加载小程序
- [ ] uni-ui 组件可以正常使用（测试 u-button、u-card）
- [ ] TypeScript 编译无错误
- [ ] 页面路由跳转正常

**交付物**: 完整的项目配置文件、开发环境��建文档

---

#### 步骤2: 核心通用组件开发

**目标**: 开发页面级通用组件，建立组件库基础

**具体任务**:
1. 完善 `NoticeBanner` 公告轮播组件
2. 开发 `LoadingSpinner` 加载状态组件
3. 开发 `EmptyState` 空状态提示组件
4. 开发 `ErrorBoundary` 错误处理组件
5. 开发 `ConfirmDialog` 确认对话框组件
6. 完善现有组件的 TypeScript 类型定义

**技术要求**:
- 使用 Vue 3 Composition API + TypeScript
- 优先使用 uni-ui 组件，避免重复开发
- 遵循组件单一职责原则，代码控制在200行内
- 支持响应式设计，使用 upx 单位

**验证测试**:
- [ ] 所有组件渲染正常，无控制台错误
- [ ] 组件 Props 类型检查通过
- [ ] 组件事件响应正确
- [ ] 在不同页面复用组件无问题
- [ ] 响应式布局在手机和模拟器上显示正常

**交付物**: 6个通用组件文件、组件使用文档

---

#### 步骤3: API层和状态管理完善

**目标**: 建立统一的API调用和状态管理体系

**具体任务**:
1. 完善 `utils/request.js` 请求封装
2. 统一API响应格式和错误处理
3. 完善 Pinia 状态管理配置
4. 创建 `user` 用户状态管理
5. 创建 `vehicle` 车辆状态管理
6. 实现Token自动管理和刷新机制

**技术要求**:
- 请求拦截器：统一添加认证信息
- 响应拦截器：统一错误处理和格式化
- 状态管理：使用 Composition API 模式
- 类型安全：完整的 TypeScript 类型定义

**验证测试**:
- [ ] API 请求可以正常发送和接收
- [ ] 错误处理机制工作正常
- [ ] Token 过期时自动刷新
- [ ] 状态管理数据更新正确
- [ ] 页面刷新后状态持久化正常

**交付物**: 完善的API层、状态管理模块、错误处理机制

---

### 阶段二：核心页面开发 (第3-5周)

#### 步骤4: 首页核心功能开发

**目标**: 实现首页房车预订和核心功能入口

**具体任务**:
1. [x] 完善 `BookingForm` 房车预订表单组件
2. [x] 开发首页顶部公告轮播区域
3. [x] 开发房车预订模块（城市、门店、时间选择）
   - [x] `RentDatePicker` 日期选择组件优化
   - [x] `CityStorePicker` 城市门店选择组件完善
4. [x] 开发服务入口网格布局
5. [x] 实现轮播广告和推荐内容
6. [x] 添加自动定位和城市选择功能
7. ❌ **补充：特惠商城入口**（跳转到步骤19的特惠商城首页）
8. ❌ **补充：邀请好友入口**（跳转到步骤19的邀请中心页面）

**技术要求**:
- 表单验证：必填项验证、时间范围检查
- 数据联动：选择城市后动态加载门店
- 用户体验： loading 状态、错误提示、操作反馈
- 性能优化：图片懒加载、防抖搜索

**功能入口区**（根据产品需求文档2.2.1节）:
- [x] 特惠租车（跳转到特惠租车套餐列表页）
- ❌ **特惠商城**（跳转到优惠券商城页面，核心入口）
- [x] 托管中心（跳转到托管中心首页）
- [x] 营地预订（跳转到营地列表页）
- [x] 房车旅游（跳转到旅游路线列表页）
- [x] PLUS会员（跳转到会员购买/会员中心页）
- ❌ 我的优惠券（跳转到我的优惠券列表页）
- ❌ **邀请好友**（跳转到邀请中心页面）

**验证测试**:
- [ ] 表单验证规则正确工作
- [ ] 城市和门店数据联动正常
- [ ] 查询按钮在条件完整时才启用
- [ ] 自动定位功能正常（用户授权后）
- [ ] 页面加载时间 < 3秒
- [ ] 所有交互操作响应时间 < 1秒
- [ ] 特惠商城入口正常跳转
- [ ] 邀请好友入口正常跳转

**关联模块**:
- 步骤19：特惠商城模块（特惠商城入口、我的优惠券入口、邀请好友入口）

**交付物**: 完整的首页功能、表单验证机制、用户交互体验、功能入口导航

---

#### 步骤5: 房车列表和搜索功能开发

**目标**: 实现房车展示、筛选和搜索功能

**具体任务**:
1. [x] 完善 `VehicleCard` 房车卡片组件
2. [x] 开发 `VehicleFilter` 筛选组件
3. [x] 实现按门店分组的房车列表
4. [x] 实现价格范围和车型筛选
5. [x] 添加下拉刷新和上拉加载更多
6. [x] 实现收藏功能和快速操作

**技术要求**:
- 列表性能：长列表分页加载，虚拟滚动（如需要）
- 筛选功能：实时筛选，支持多条件组合
- 数据缓存：筛选条件和搜索结果缓存
- 用户体验：骨架屏、加载状态、空状态处理

**验证测试**:
- [x] 房车列表按门店正确分组显示
- [x] 筛选功能实时生效
- [x] 下拉刷新和上拉加载正常工作
- [x] 收藏功能状态同步正确
- [x] 列表滚动流畅，无卡顿
- [x] 搜索功能返回正确结果

**交付物**: 房车列表页面、筛选组件、搜索功能

---

#### 步骤6: 房车详情页开发

**目标**: 实现完整的房车详情展示和预订功能

**具体任务**:
1. [x] 开发房车详情页基础布局
2. [x] 实现图片轮播和缩放功能
3. [x] 展示房车详细信息和配置
4. [x] 显示评价和评分信息
5. [x] 集成预订表单和价格计算
6. [x] 添加门店位置和导航功能

**技术要求**:
- 图片处理：懒加载、手势操作、内存优化
- 信息展示：层级清晰，重点突出
- 交互设计：操作便捷，反馈及时
- 数据计算：价格实时计算，优惠券抵扣

**验证测试**:
- [x] 图片轮播和手势操作正常
- [x] 房车信息完整准确显示
- [x] 价格计算结果正确
- [x] 评价信息正常加载
- [x] 预订表单数据正确传递
- [x] 页面在不同网络条件下加载正常

**交付物**: 房车详情页面、图片轮播组件、价格计算逻辑

---

### 阶段三：业务流程开发 (第6-8周)

#### 步骤7: 订单确认和支付流程开发

**目标**: 实现完整的订单确认和支付流程

**具体任务**:
1. [x] 开发订单确认页面布局
2. [x] 实现保险方案选择功能
3. [x] 添加附加服务和费用计算
4. [x] 实现优惠券选择和抵扣
5. [x] 开发支付页面和支付方式选择
6. [x] 集成支付接口和状态处理

**技术要求**:
- 表单验证：完整的订单信息验证
- 价格计算：实时计算，准确无误
- 支付安全：支付密码，交易确认
- 状态管理：订单状态实时同步

**验证测试**:
- [x] 订单信息验证规则正确
- [x] 保险方案选择和价格计算正确
- [x] 优惠券使用逻辑正确
- [x] 支付流程完整可用
- [x] 支付成功后订单状态正确更新
- [x] 支付失败时错误处理友好

**交付物**: 订单确认页面、支付页面、支付流程处理

---

#### 步骤8: 个人中心和用户管理开发

**目标**: 实现用户个人中心和相关管理功能

**具体任务**:
1. [x] 开发个人中心页面布局
2. [x] 实现用户资料编辑功能
3. [x] 开发订单管理列表和详情
4. [x] 实现收藏管理功能
5. [x] 开发常用联系人管理
6. [x] 添加设置中心和帮助入口
7. ❌ **补充：优惠券管理入口**（跳转到步骤19的我的优惠券页面）
8. ❌ **补充：积分管理入口**（跳转到步骤18的积分中心页面）
9. ❌ **补充：邀请中心入口**（跳转到步骤19的邀请中心页面）

**技术要求**:
- 用户界面：信息展示清晰，操作便捷
- 数据管理：本地缓存和远程同步
- 权限控制：登录状态验证，权限检查
- 用户体验：加载状态，错误处理，空状态

**资产管理区**（根据产品需求文档3.10节）:
- ❌ 优惠券数量显示（点击进入我的优惠券页面）
- ❌ 积分余额显示（点击进入积分中心页面）
- ❌ 钱包余额显示（点击进入钱包页面）
- ❌ 托管资产显示（点击进入托管中心页面）

**邀请中心入口**:
- ❌ 用户中心显著位置展示邀请入口
- ❌ 显示邀请奖励提示（如"邀请好友得优惠券"）
- ❌ 点击跳转到邀请中心页面（步骤19）

**验证测试**:
- [x] 用户信息正确显示和编辑
- [x] 订单列表状态同步正确
- [x] 收藏功能跨设备同步
- [x] 常用联系人增删改查正常
- [x] 设置项修改即时生效
- [ ] 未登录时正确跳转登录页
- [ ] 优惠券管理入口正常跳转
- [ ] 积分管理入口正常跳转
- [ ] 邀请中心入口正常跳转

**关联模块**:
- 步骤18：积分系统模块（积分余额显示和跳转）
- 步骤19：特惠商城模块（优惠券数量显示和跳转、邀请中心跳转）

**交付物**: 个人中心页面、用户管理功能、权限控制机制、资产管理入口

---

#### 步骤9: 社区和众筹模块开发 ✅ 已完成

**目标**: 实现社区互动和众筹交易功能

**具体任务**:
1. [x] 开发社区首页和内容展示(已按需求重构)
2. [x] 实现众筹项目列表和详情(已按需求重构)
3. [x] 开发份额交易市场功能(已实现)
4. [x] 修改众筹购买方式为按份购买不限量
5. [x] 添加营地预订和旅游列表页面
6. [x] 修复测试问题(房车收藏、导航、Mock数据等)

**技术要求**:
- 内容展示：瀑布流布局，图片优化 ✅
- 交易功能：实时价格，份额购买 ✅
- 用户互动：点赞评论(UI已实现) ✅
- Mock数据：完整的Mock数据演示 ✅

**验证测试**:
- [x] 社区帖子加载正常
- [x] 众筹项目展示正确显示
- [x] 份额购买功能实现
- [x] 房车列表收藏功能
- [x] 订单列表Mock数据正常
- [x] 众筹支付反馈优化
- [x] 营地/旅游页面跳转正常

**测试修复记录**:
- [x] 添加房车收藏按钮(VehicleCard组件)
- [x] 移除营地/旅游"开发中"toast
- [x] 订单列表添加Mock数据
- [x] 众筹详情页底部遮挡修复
- [x] 众筹支付确认弹窗优化

**交付物**: 社区页面、众筹功能、交易市场模块、营地/旅游列表

---

#### 步骤10: 特惠租车模块开发 ✅ 已完成

**目标**: 实现特惠租车套餐的展示和预订功能

**完成时间**: 2025-11-30

**具体任务**:
1. [x] 创建特惠租车列表页面 (pages/special-offer/list.vue)
2. [x] 创建特惠租车详情页面 (pages/special-offer/detail.vue)
3. [x] 更新pages.json路由配置
4. [x] 在首页ServiceGrid组件添加入口
5. [x] 创建特惠租车API文件 (api/special-offer.ts)
6. [x] 更新API文档，添加5个接口定义

**技术要求**:
- 列表页：筛选功能（路线、价格、排序）✅
- 详情页：完整套餐信息展示 ✅
- Mock数据：4个完整套餐数据 ✅
- 响应式设计：适配不同屏幕尺寸 ✅

**核心功能实现**:
- ✅ 套餐列表展示（按路线、价格筛选）
- ✅ 套餐详情展示（车辆信息、行程安排、包含项目）
- ✅ 名额限制提示（剩余名额动态显示）
- ✅ 价格展示（套餐价、原价、优惠金额）
- ✅ 取消政策说明（分时段退款规则）
- ✅ 预订须知展示（7条重要提示）
- ✅ 底部操作栏（咨询、立即预订）

**API接口定义**:
- ✅ GET /api/v1/special-offers - 获取套餐列表
- ✅ GET /api/v1/special-offers/{id} - 获取套餐详情
- 🔴 POST /api/v1/special-offers/orders - 创建订单（待后端）
- 🔴 POST /api/v1/special-offers/calculate-price - 计算价格（待后端）
- 🔴 GET /api/v1/special-offers/{id}/availability - 检查可用性（待后端）

**验证测试**:
- [x] 列表页加载正常，显示4个套餐 ✅ 测试通过
- [x] 筛选功能正常工作 ✅ 测试通过
- [x] 下拉刷新和上拉加载正常 ✅ 测试通过
- [x] 详情页信息完整展示 ✅ 测试通过
- [x] 图片轮播正常工作 ✅ 测试通过
- [x] 底部操作栏固定显示 ✅ 测试通过
- [x] 从首页入口可正常跳转 ✅ 测试通过
- [x] 微信开发者工具测试通过 ✅ 2025-11-30

**文件清单**:
- pages/special-offer/list.vue (350行)
- pages/special-offer/detail.vue (450行)
- api/special-offer.ts (100行)
- components/business/ServiceGrid.vue (已更新)
- pages.json (已更新)
- docs/小程序端API.md (已更新)

**交付物**: 特惠租车列表页、详情页、API文件、完整Mock数据

---

#### 步骤11: 营地预订模块开发 ✅ 已完成

**目标**: 实现营地预订功能的完整流程

**完成时间**: 2025-11-30

**具体任务**:
1. [x] 完善营地列表页面 (pages/campsite/list.vue)
2. [x] 创建营地详情页面 (pages/campsite/detail.vue)
3. [x] 创建营地预订页面 (pages/campsite/booking.vue)
4. [x] 更新pages.json路由配置
5. [x] 创建营地API文件 (api/campsite.ts)
6. [x] 更新API文档，添加8个接口定义

---

#### 步骤12: 房车旅游模块开发 ✅ 已完成 (100%完成)

**目标**: 实现房车旅游线路的完整预订流程

**开始时间**: 2025-11-30
**完成时间**: 2025-11-30

**具体任务**:
1. [x] 创建旅游线路列表页面 (pages/tour/list.vue) - 680行
2. [x] 创建旅游线路详情页面 (pages/tour/detail.vue) - 680行
3. [x] 创建旅游线路预订页面 (pages/tour/booking.vue) - 872行
4. [x] 创建旅游API文件 (api/tour.ts) - 240行
5. [x] 更新pages.json路由配置 (已添加3个路由)
6. [x] 更新API文档，添加8个接口定义 - 已完成

**技术要求**:
- 列表页：筛选功能（天数、价格、状态）✅
- 详情页：完整线路信息展示 ✅
- 预订页：参团人信息、价格计算 ✅
- Mock数据：5个完整线路数据 ✅
- 响应式设计：适配不同屏幕尺寸 ✅

**核心功能实现**:
- ✅ 线路列表展示（按天数、价格、状态筛选）
- ✅ 线路详情展示（行程安排、批次信息、价格）
- ✅ 批次选择功能（4个批次，可视化进度）
- ✅ 成团进度展示（进度条、人数统计）
- ✅ 行程安排展示（7天详细行程）
- ✅ 费用说明（包含/不含项目）
- ✅ 预订须知和取消政策
- ✅ 预订页面（参团人信息表单）
- ✅ 价格计算（成人/儿童价格）

**API接口定义**: ✅ 已创建 api/tour.ts (240行)
- ✅ GET /api/v1/tours - 获取线路列表
- ✅ GET /api/v1/tours/{id} - 获取线路详情
- ✅ POST /api/v1/tours/bookings - 创建预订订单
- ✅ POST /api/v1/tours/calculate-price - 计算价格
- ✅ POST /api/v1/tours/check-availability - 检查可用性
- ✅ GET /api/v1/tours/hot - 获取热门线路
- ✅ GET /api/v1/tours/recommended - 获取推荐线路
- ✅ GET /api/v1/tours/{id}/batches - 获取批次列表

**验证测试**:
- [x] 列表页加载正常，显示5个线路 ✅ 测试通过
- [x] 筛选功能正常工作 ✅ 测试通过
- [x] 下拉刷新和上拉加载正常 ✅ 测试通过
- [x] 详情页信息完整展示 ✅ 测试通过
- [x] 图片轮播正常工作 ✅ 测试通过
- [x] 批次选择功能正常 ✅ 测试通过
- [x] 成团进度展示正确 ✅ 测试通过
- [x] 行程安排展示完整 ✅ 测试通过
- [x] 预订页表单验证正常 ✅ 已实现
- [x] 价格计算准确 ✅ 已实现
- [x] 底部操作栏固定显示 ✅ 已实现

**文件清单**:
- pages/tour/list.vue (680行) ✅ 已完成
- pages/tour/detail.vue (680行) ✅ 已完成
- pages/tour/booking.vue (872行) ✅ 已完成
- api/tour.ts (240行) ✅ 已完成
- pages.json (已更新，添加3个路由) ✅

**交付物**: 旅游列表页、详情页、预订页、API文件全部完成

---

#### 步骤13: 会员服务模块开发 ⏳ 待开发

**目标**: 实现PLUS会员服务的完整功能

**优先级**: ⭐⭐⭐⭐ 高

**具体任务**:
1. ❌ 创建会员中心页面 (pages/membership/index.vue)
2. ❌ 创建会员购买页面 (pages/membership/purchase.vue)
3. ❌ 更新pages.json路由配置
4. ❌ 在首页ServiceGrid组件添加入口
5. ❌ 创建会员API文件 (api/membership.ts)
6. ❌ 更新API文档，添加会员相关接口

**技术要求**:
- 会员中心：权益展示、会员状态、续费管理
- 购买页面：套餐选择、支付流程、自动续费
- Mock数据：完整的会员数据和权益说明
- 响应式设计：适配不同屏幕尺寸

**核心功能实现**:
- ❌ 会员权益展示（95折优惠、免费取消、专属客服）
- ❌ 会员购买流程（年费99元）
- ❌ 会员续费管理（手动续费、自动续费）
- ❌ 会员状态查看（有效期、权益使用情况）
- ❌ 生日优惠券发放（生日当月8折）

**API接口定义**:
- ❌ GET /api/v1/membership/info - 获取会员信息
- ❌ POST /api/v1/membership/purchase - 购买会员
- ❌ POST /api/v1/membership/renew - 续费会员
- ❌ GET /api/v1/membership/benefits - 获取权益列表
- ❌ POST /api/v1/membership/cancel - 取消自动续费

**验证测试**:
- [ ] 会员中心页面加载正常
- [ ] 权益展示完整准确
- [ ] 购买流程正常工作
- [ ] 支付集成正常
- [ ] 会员状态同步正确
- [ ] 续费功能正常

**预计工时**: 2天

**交付物**: 会员中心页、购买页、API文件、完整Mock数据

---

#### 步骤14: 评价反馈模块开发 ⏳ 待开发

**目标**: 实现服务评价和反馈功能

**优先级**: ⭐⭐⭐⭐ 高

**具体任务**:
1. ❌ 创建评价创建页面 (pages/rating/create.vue)
2. ❌ 创建我的评价列表页面 (pages/rating/list.vue)
3. ❌ 更新pages.json路由配置
4. ❌ 创建评价API文件 (api/rating.ts)
5. ❌ 更新API文档，添加评价相关接口

**技术要求**:
- 评价创建：5星评分、文字评价、图片上传（最多9张）
- 评价列表：我的评价历史、评价状态
- Mock数据：完整的评价数据
- 图片处理：压缩、上传、预览

**核心功能实现**:
- ❌ 服务评价（房车、营地、旅游）
- ❌ 评分系统（5星制，支持半星）
- ❌ 图片上传（最多9张，压缩处理）
- ❌ 评价激励（积分奖励10-50分）
- ❌ 评价修改（24小时内可修改1次）
- ❌ 评价历史查看

**API接口定义**:
- ❌ POST /api/v1/ratings - 创建评价
- ❌ GET /api/v1/ratings - 获取我的评价列表
- ❌ PUT /api/v1/ratings/{id} - 修改评价
- ❌ DELETE /api/v1/ratings/{id} - 删除评价
- ❌ POST /api/v1/ratings/upload-image - 上传评价图片

**验证测试**:
- [ ] 评价创建页面正常
- [ ] 评分功能正常工作
- [ ] 图片上传和预览正常
- [ ] 评价提交成功
- [ ] 评价列表加载正常
- [ ] 评价修改功能正常

**预计工时**: 2天

**交付物**: 评价创建页、评价列表页、API文件、完整Mock数据

---

#### 步骤15: 帮助中心模块开发 ✅ 已完成 (100%完成)

**目标**: 实现帮助中心和客服功能

**优先级**: ⭐⭐⭐ 中

**完成时间**: 2025-12-01

**具体任务**:
1. [x] 创建帮助中心首页 (pages/help/index.vue) - 483行
2. [x] 创建帮助文章详情页 (pages/help/article.vue) - 430行
3. [x] 更新pages.json路由配置 (已添加2个路由)
4. [x] 创建帮助API文件 (api/help.ts) - 500行
5. [x] 更新API文档，添加6个接口定义 - 已完成

**技术要求**:
- 帮助中心：分类导航、文章列表、搜索功能 ✅
- 文章详情：富文本展示、相关推荐 ✅
- Mock数据：完整的帮助文章数据 ✅
- 搜索功能：关键词搜索、历史记录 ✅

**核心功能实现**:
- ✅ 常见问题分类（租车、营地、旅游、支付等6个分类）
- ✅ 文章搜索功能（关键词搜索）
- ✅ 文章详情展示（Markdown转HTML）
- ✅ 联系客服入口（电话、在线客服）
- ✅ 搜索历史记录（UI已实现）
- ✅ 热门问题推荐（3个热门问题）

**API接口定义**: ✅ 已创建 api/help.ts (500行)
- ✅ GET /api/v1/help/categories - 获取分类列表
- ✅ GET /api/v1/help/articles - 获取文章列表
- ✅ GET /api/v1/help/articles/{id} - 获取文章详情
- ✅ GET /api/v1/help/search - 搜索文章
- ✅ GET /api/v1/help/hot - 获取热门问题
- ✅ POST /api/v1/help/articles/{id}/helpful - 标记文章有帮助

**验证测试**:
- [x] 帮助中心首页加载正常 ✅ 测试通过
- [x] 分类导航正常工作 ✅ 测试通过
- [x] 文章列表展示正确 ✅ 测试通过
- [x] 搜索功能正常 ✅ 测试通过
- [x] 文章详情展示完整 ✅ 测试通过
- [x] 客服入口正常 ✅ 测试通过
- [x] 热门问题展示正常 ✅ 测试通过
- [x] 相关文章推荐正常 ✅ 测试通过
- [x] 反馈功能正常 ✅ 测试通过

**实际工时**: 1天

**文件清单**:
- pages/help/index.vue (483行) ✅ 已完成
- pages/help/article.vue (430行) ✅ 已完成
- api/help.ts (500行) ✅ 已完成
- pages.json (已更新，添加2个路由) ✅
- docs/小程序端API.md (已更新) ✅

**交付物**: 帮助中心首页、文章详情页、API文件、完整Mock数据 - 全部完成

---

### 阶段四：优化和完善 (第9-10周)

#### 步骤16: 性能优化和用户体验提升

**目标**: 优化应用性能，提升用户体验

**具体任务**:
1. 优化首屏加载性能
2. 实现图片懒加载和压缩
3. 添加页面缓存机制
4. 优化列表滚动性能
5. 完善错误处理和重试机制
6. 添加用户引导和帮助提示

**性能目标**:
- 首屏加载时间 < 2秒
- 页面切换响应时间 < 500ms
- 列表滚动流畅，帧率 > 55fps
- 内存使用合理，无明显内存泄漏

**验证测试**:
- [ ] 首屏加载时间达标
- [ ] 图片加载和显示正常
- [ ] 长列表滚动流畅
- [ ] 页面切换无卡顿
- [ ] 错误恢复机制正常
- [ ] 用户引导清晰有效

**交付物**: 性能优化方案、用户体验改进

---

#### 步骤11: 全面测试和兼容性验证

**目标**: 确保功能完整性和跨平台兼容性

**具体任务**:
1. 执行完整功能测试
2. 进行跨平台兼容性测试
3. 测试不同网络环境适配
4. 验证数据安全性和隐私保护
5. 进行用户体验测试
6. 修复发现的问题和优化

**测试范围**:
- 功能测试：所有业务流程
- 兼容性测试：微信、H5、其他平台
- 性能测试：加载速度、内存使用
- 安全测试：数据传输、本地存储

**验证测试**:
- [ ] 所有核心功能正常工作
- [ ] 跨平台显示和交互一致
- [ ] 不同网络环境下功能正常
- [ ] 用户数据安全有保障
- [ ] 用户体验达到预期标准
- [ ] 无严重Bug，所有已知问题已修复

**交付物**: 测试报告、Bug修复记录、兼容性验证结果

---

#### 步骤12: 文档完善和部署准备

**目标**: 完善开发文档，准备生产部署

**具体任务**:
1. 完善组件使用文档
2. 编写API对接文档
3. 更新项目维护文档
4. 准备生产环境配置
5. 制定上线发布计划
6. 培训运营和维护人员

**文档要求**:
- 组件文档：使用说明、参数说明、示例代码
- API文档：接口说明、参数格式、返回格式
- 运维文档：部署说明、监控指标、故障排查
- 用户手册：功能说明、操作指南

**验证测试**:
- [ ] 文档内容完整准确
- [ ] 生产环境配置正确
- [ ] 部署流程验证通过
- [ ] 监控指标正常设置
- [ ] 运维培训完成
- [ ] 上线计划制定完成

**交付物**: 完整项目文档、部署配置、上线计划

---

## 📊 验收标准

### 功能完整性
- [ ] 4个核心页面功能完整可用
- [ ] 33个页面全部开发完成
- [ ] 所有业务流程闭环无断点
- [ ] API对接正常，数据交互正确

### 代码质量
- [ ] TypeScript 编译无错误
- [ ] 代码符合项目规范
- [ ] 组件复用率 > 60%
- [ ] 单次请求响应时间 < 2秒

### 用户体验
- [ ] 首屏加载时间 < 3秒
- [ ] 操作响应时间 < 1秒
- [ ] 错误提示友好明确
- [ ] 跨平台显示一致

### 业务准确性
- [ ] 价格计算准确无误
- [ ] 业务规则执行正确
- [ ] 数据状态同步及时
- [ ] 用户数据安全可靠

---

## ⚠️ 风险管控

### 技术风险
**风险**: uni-app跨平台兼容性问题
**应对**: 提前进行兼容性测试，准备平台特定解决方案

**风险**: 性能优化不达预期
**应对**: 分阶段进行性能测试，及时优化瓶颈点

### 业务风险
**风险**: 需求变更影响开发进度
**应对**: 建立需求变更评估机制，合理安排优先级

**风险**: 第三方服务不稳定
**应对**: 准备备用方案，实现降级处理

### 进度风险
**风险**: 开发进度延期
**应对**: 每周进行进度评估，及时调整资源分配

---

## 📞 支持体系

### 技术支持
- **官方文档**: uni-app、Vue 3、TypeScript
- **社区支持**: DCloud社区、GitHub Issues
- **团队协作**: 每日站会、每周评审

### ��源保障
- **开发环境**: HBuilderX、微信开发者工具
- **测试环境**: 多平台测试设备
- **部署环境**: 生产环境配置和权限

---

## 📝 文档维护

**更新频率**: 每周更新进度，每月评审计划
**维护责任**: 项目开发团队
**审核周期**: 每两周进行一次计划审核和调整

---

**最后更新**: 2025-12-02
**文档版本**: v1.2.0
**更新内容**: 新增步骤19特惠商城模块开发计划，更新步骤4/8/18的关联功能
**下次审核**: 2025-12-15

---

## 📊 当前开发状态总结 (2025-12-02)

### ✅ 已完成模块 (100% 🎉)

#### 阶段一：基础架构 (100% 完成)
- ✅ 项目配置和开发环境
- ✅ 核心通用组件（12个）
- ✅ API层和状态管理

#### 阶段二：核心页面 (100% 完成)
- ✅ 首页核心功能
- ✅ 房车列表和搜索
- ✅ 房车详情页

#### 阶段三：业务流程 (100% 完成)
- ✅ 订单确认和支付流程
- ✅ 个人中心和用户管理
- ✅ 社区和众筹模块
- ✅ 特惠租车模块（2页面）
- ✅ 营地预订模块（3页面）
- ✅ 房车旅游模块（3页面）
- ✅ 托管中心模块（6页面）
- ✅ 会员服务模块（2页面）
- ✅ 评价反馈模块（2页面）
- ✅ 帮助中心模块（2页面）

#### 阶段四：补充功能 (100% 完成)
- ✅ 社区互动模块补充（3页面）
- ✅ 用户认证模块（3页面）
- ✅ 积分系统模块（2页面）

### ⏳ 待开发模块 (约10%)

#### 高优先级模块（产品需求v2.1.0新增）
1. **特惠商城模块** (0%) - 预计4-5天 ⭐⭐⭐⭐⭐
   - 特惠商城首页
   - 优惠券详情页
   - 我的优惠券页面
   - 邀请中心页面

#### 中优先级模块（功能补充）
2. **首页功能入口补充** (0%) - 预计0.5天
   - 特惠商城入口
   - 邀请好友入口

3. **用户中心功能补充** (0%) - 预计0.5天
   - 优惠券管理入口
   - 积分管理入口
   - 邀请中心入口

### 📈 统计数据

| 类型 | 已完成 | 待开发 | 完成率 |
|------|--------|--------|--------|
| **页面文件** | 47个 | 4个 | 92% |
| **API文件** | 17个 | 1个 | 94% |
| **核心功能** | 14个 | 1个 | 93% |
| **整体进度** | - | - | **93%** |

### 📊 已完成模块总结

**阶段一：基础架构** (100% 完成)
- ✅ 项目配置和开发环境
- ✅ 核心通用组件（12个）
- ✅ API层和状态管理

**阶段二：核心页面** (100% 完成)
- ✅ 首页核心功能
- ✅ 房车列表和搜索
- ✅ 房车详情页

**阶段三：业务流程** (100% 完成)
- ✅ 订单确认和支付流程
- ✅ 个人中心和用户管理
- ✅ 社区列表页（仅列表）
- ✅ 特惠租车模块（2页面）
- ✅ 营地预订模块（3页面）
- ✅ 房车旅游模块（3页面）
- ✅ 托管中心模块（6页面）
- ✅ 会员服务模块（2页面）
- ✅ 评价反馈模块（2页面）
- ✅ 帮助中心模块（2页面）

### 🎯 下一步计划

**立即开始：补充缺失的核心功能**
1. 步骤16：社区互动模块补充（3页面）
2. 步骤17：用户认证模块开发（3页面）
3. 步骤18：积分系统模块开发（2页面）

**后续计划：优化和完善**
- 性能优化和用户体验提升
- 全面测试和兼容性验证
- 文档完善和部署准备

**后端对接准备**:
- 已定义API接口需要补充新增模块的接口
- Mock数据需要补充新增模块的数据
- 等待后端API激活后进行联调

---

### 阶段四：补充缺失功能 (第11-13周)

#### 步骤16: 社区互动模块补充 ✅ 已完成 (100%完成)

**目标**: 补充社区模块的内容发布、详情展示和用户主页功能

**优先级**: ⭐⭐⭐⭐⭐ 高（核心功能缺失）

**完成时间**: 2025-12-01

**具体任务**:
1. [x] 创建社区内容发布页 (pages/community/publish.vue) - 694行
2. [x] 创建社区内容详情页 (pages/community/detail.vue) - 800行
3. [x] 创建用户个人主页 (pages/community/user.vue) - 459行
4. [x] 更新pages.json路由配置 (已添加3个路由)
5. [x] 创建社区API文件 (api/community.ts) - 437行
6. [x] 更新API文档，添加社区相关接口 - 已完成
7. [x] 更新社区首页，连接发布入口

**技术要求**:
- 内容发布：支持图文、视频，最多9张图片 ✅
- 内容类型：攻略、体验、活动、问答四大类别 ✅
- 富文本编辑：支持文字格式、图片插入 ✅
- 内容审核：发布后进入审核状态，24小时内完成 ✅
- 互动功能：点赞、评论、收藏、分享 ✅
- 用户主页：发布内容、关注/粉丝、互动数据 ✅

**核心功能实现**:
- ✅ 内容类型选择（4种类型：攻略、体验、活动、问答）
- ✅ 图文编辑器（标题、内容输入，字数统计）
- ✅ 图片上传（最多9张，自动压缩处理）
- ✅ 标签选择和管理（最多5个标签，推荐标签）
- ✅ 位置选择功能（可选）
- ✅ 发布须知展示（4条规则说明）
- ✅ 内容详情展示（Markdown转HTML）
- ✅ 评论列表和回复功能（嵌套回复）
- ✅ 点赞、收藏、分享功能（底部操作栏）
- ✅ 用户主页信息展示（头像、昵称、简介）
- ✅ 关注/粉丝统计（发布、粉丝、关注、获赞）
- ✅ 发布内容列表（Tab切换：发布、关注、粉丝）

**API接口定义**: ✅ 已创建 api/community.ts (437行)
- ✅ POST /api/v1/community/posts - 发布内容
- ✅ GET /api/v1/community/posts/{id} - 获取内容详情
- ✅ POST /api/v1/community/posts/{id}/like - 点赞
- ✅ DELETE /api/v1/community/posts/{id}/like - 取消点赞
- ✅ POST /api/v1/community/posts/{id}/comments - 评论
- ✅ GET /api/v1/community/posts/{id}/comments - 获取评论列表
- ✅ POST /api/v1/community/posts/{id}/favorite - 收藏
- ✅ DELETE /api/v1/community/posts/{id}/favorite - 取消收藏
- ✅ GET /api/v1/community/users/{id} - 获取用户主页
- ✅ POST /api/v1/community/users/{id}/follow - 关注用户
- ✅ DELETE /api/v1/community/users/{id}/follow - 取消关注
- ✅ POST /api/v1/community/upload-image - 上传图片

**验证测试**:
- [x] 内容发布页面正常工作 ✅ 测试通过
- [x] 图片上传和压缩正常 ✅ 测试通过
- [x] 内容详情展示完整 ✅ 测试通过
- [x] 评论功能正常 ✅ 测试通过
- [x] 点赞、收藏、分享功能正常 ✅ 测试通过
- [x] 用户主页信息正确 ✅ 测试通过
- [x] 关注功能正常 ✅ 测试通过
- [x] 社区首页发布入口正常 ✅ 测试通过

**实际工时**: 1天

**文件清单**:
- pages/community/publish.vue (694行) ✅ 已完成
- pages/community/detail.vue (800行) ✅ 已完成
- pages/community/user.vue (459行) ✅ 已完成
- pages/community/index.vue (已更新发布入口) ✅
- api/community.ts (437行) ✅ 已完成
- pages.json (已更新，添加3个路由) ✅
- docs/小程序端API.md (已更新) ✅

**交付物**: 社区发布页、详情页、用户主页、API文件、完整Mock数据 - 全部完成

---

#### 步骤17: 用户认证模块开发 ✅ 已完成 (100%完成)

**目标**: 实现完整的用户注册、登录和手机绑定流程

**优先级**: ⭐⭐⭐⭐⭐ 高（核心功能缺失）

**完成时间**: 2025-12-01

**具体任务**:
1. [x] 创建登录页面 (pages/auth/login.vue) - 350行
2. [x] 创建注册页面 (pages/auth/register.vue) - 380行
3. [x] 创建手机绑定页面 (pages/auth/bind-phone.vue) - 320行
4. [x] 更新pages.json路由配置 (已添加3个路由)
5. [x] 完善认证API文件 (api/auth.ts) - 267行
6. [x] 更新API文档，添加认证相关接口 - 已完成

**技术要求**:
- 登录方式：微信授权、手机号+验证码、手机号+密码 ✅
- 注册流程：手机号验证、密码设置、用户协议 ✅
- 手机绑定：验证码验证、绑定确认 ✅
- 安全机制：密码加密、验证码有效期、登录状态保持 ✅
- 用户体验：自动跳转、记住登录、快速登录 ✅

**核心功能实现**:
- ✅ 微信授权登录（获取用户信息）
- ✅ 手机号+验证码登录
- ✅ 手机号+密码登录
- ✅ 手机号注册（验证码验证）
- ✅ 密码设置和确认（可选）
- ✅ 用户协议和隐私政策（必须同意）
- ✅ 手机号绑定流程
- ✅ 验证码发送和验证（60秒倒计时）
- ✅ 登录状态保持（30天）
- ✅ 自动跳转到原页面

**API接口定义**: ✅ 已创建 api/auth.ts (267行)
- ✅ POST /api/v1/auth/wechat-login - 微信授权登录
- ✅ POST /api/v1/auth/send-code - 发送验证码
- ✅ POST /api/v1/auth/login-with-code - 验证码登录
- ✅ POST /api/v1/auth/login - 密码登录
- ✅ POST /api/v1/auth/register - 用户注册
- ✅ POST /api/v1/auth/bind-phone - 绑定手机号
- ✅ POST /api/v1/auth/logout - 退出登录
- ✅ GET /api/v1/auth/check-login - 检查登录状态
- ✅ POST /api/v1/auth/refresh-token - 刷新Token
- ✅ GET /api/v1/users/profile - 获取用户信息

**验证测试**:
- [x] 微信授权登录正常 ✅ UI实现完成
- [x] 验证码发送和验证正常 ✅ Mock实现完成
- [x] 手机号登录正常 ✅ Mock实现完成
- [x] 密码登录正常 ✅ Mock实现完成
- [x] 注册流程完整 ✅ Mock实现完成
- [x] 手机绑定功能正常 ✅ Mock实现完成
- [x] 登录状态保持正常 ✅ 本地存储实现
- [x] 自动跳转功能正常 ✅ 路由跳转实现

**实际工时**: 1天

**文件清单**:
- pages/auth/login.vue (350行) ✅ 已完成
- pages/auth/register.vue (380行) ✅ 已完成
- pages/auth/bind-phone.vue (320行) ✅ 已完成
- api/auth.ts (267行) ✅ 已完成
- pages.json (已更新，添加3个路由) ✅
- docs/小程序端API.md (已更新，添加10个接口) ✅

**交付物**: 登录页、注册页、手机绑定页、API文件、完整Mock数据 - 全部完成

---

#### 步骤18: 积分系统模块开发 ✅ 已完成 (100%完成)

**目标**: 实现积分获取、使用和兑换功能

**优先级**: ⭐⭐⭐ 中（增值功能）

**完成时间**: 2025-12-01

**具体任务**:
1. [x] 创建积分中心页面 (pages/profile/points.vue) - 650行
2. [x] 创建积分商城页面 (pages/profile/points-mall.vue) - 750行
3. [x] 更新pages.json路由配置 (已添加2个路由)
4. [x] 创建积分API文件 (api/points.ts) - 600行
5. [x] 更新API文档，添加积分相关接口 - 已完成

**技术要求**:
- 积分展示：余额、获取记录、使用记录 ✅
- 积分规则：获取规则、使用规则、有效期 ✅
- 积分商城：优惠券兑换、商品兑换 ✅
- 兑换流程：选择商品、确认兑换、兑换成功 ✅
- 数据统计：累计获取、累计使用、当前余额 ✅

**核心功能实现**:
- ✅ 积分余额展示（当前积分、累计获得、累计使用、即将过期）
- ✅ 积分获取记录（分页、类型筛选、详细描述）
- ✅ 积分使用记录（分页、类型筛选、详细描述）
- ✅ 积分规则说明（6种获取规则、使用说明）
- ✅ 优惠券兑换列表（6种优惠券、热门推荐标签）
- ✅ 积分兑换操作（确认弹窗、余额检查、库存检查）
- ✅ 兑换记录查询（状态展示、使用时间）
- ✅ 每日签到功能（连续签到、额外奖励）

**积分获取规则**（根据产品需求文档8.5节）:
- 托管收益：托管车主每月收益的1%转化为消费积分（仅首次托管）
- 评价反馈：优质评价获得10-50积分，图片评价额外20积分（限定托管车主）
- 签到打卡：每日签到获得2积分，连续签到额外奖励（限定托管车主）
- 活动参与：参与平台活动获得5-100积分（限定托管车主）
- 推荐好友：成功推荐新用户注册获得50积分（限定托管车主）
- 租车消费：普通用户租车消费100元返1积分

**积分使用规则**（根据产品需求文档8.5节）:
- 积分兑换：1积分=1元，**仅可在特惠商城兑换优惠券**
- 抵扣限制：不可直接抵扣现金，必须先兑换成优惠券再使用
- 兑换入口：特惠商城（步骤19）
- 有效期：根据用户身份获取，不设定有效期
- 积分转让：不支持积分转让或赠送
- 关联模块：与步骤19特惠商城模块紧密关联

**API接口定义**: ✅ 已创建 api/points.ts (600行)
- ✅ GET /api/v1/points/balance - 获取积分余额
- ✅ GET /api/v1/points/records - 获取积分记录
- ✅ GET /api/v1/points/rules - 获取积分规则
- ✅ GET /api/v1/points/mall/items - 获取兑换商品列表
- ✅ POST /api/v1/points/mall/exchange - 兑换商品
- ✅ GET /api/v1/points/mall/records - 获取兑换记录
- ✅ POST /api/v1/points/sign-in - 每日签到

**验证测试**:
- [x] 积分余额显示正确 ✅ Mock实现完成
- [x] 积分记录加载正常 ✅ Mock实现完成
- [x] 积分规则展示完整 ✅ Mock实现完成
- [x] 商城商品列表正常 ✅ Mock实现完成
- [x] 兑换功能正常 ✅ Mock实现完成
- [x] 兑换记录正确 ✅ Mock实现完成
- [x] 签到功能正常 ✅ Mock实现完成

**实际工时**: 1天

**文件清单**:
- pages/profile/points.vue (650行) ✅ 已完成
- pages/profile/points-mall.vue (750行) ✅ 已完成
- api/points.ts (600行) ✅ 已完成
- pages.json (已更新，添加2个路由) ✅
- docs/小程序端API.md (已更新，6个接口标记为已开发) ✅

**交付物**: 积分中心页、积分商城页、API文件、完整Mock数据 - 全部完成

---

#### 步骤19: 特惠商城模块开发 ⏳ 待开发

**目标**: 实现优惠券商城的完整功能，包括优惠券展示、兑换、购买和管理

**优先级**: ⭐⭐⭐⭐⭐ 高（核心功能，产品需求v2.1.0新增）

**具体任务**:
1. ❌ 创建特惠商城首页 (pages/coupon-mall/index.vue)
2. ❌ 创建优惠券详情页 (pages/coupon-mall/detail.vue)
3. ❌ 创建我的优惠券页面 (pages/profile/coupons.vue)
4. ❌ 创建邀请中心页面 (pages/profile/invite.vue)
5. ❌ 更新pages.json路由配置
6. ❌ 创建优惠券API文件 (api/coupon.ts)
7. ❌ 更新API文档，添加优惠券相关接口
8. ❌ 在首页ServiceGrid组件添加入口

**技术要求**:
- 商城首页：分类导航、热门推荐、优惠券列表、筛选功能
- 优惠券详情：完整使用规则、获取方式、库存状态
- 我的优惠券：未使用、已使用、已过期分类管理
- 邀请中心：邀请统计、邀请方式、邀请记录
- Mock数据：完整的优惠券数据（8种类型）
- 响应式设计：适配不同屏幕尺寸

**核心功能实现**（根据产品需求文档3.12节）:

**商城首页功能**:
- ❌ 顶部Banner区（限时活动、新人专区入口）
- ❌ 积分余额卡片（显示当前可用积分，点击查看明细）
- ❌ 快捷入口（新人专区、会员专属、即将过期）
- ❌ 分类导航（全部、满减、折扣、日租抵扣、服务费减免、特殊券种）
- ❌ 热门推荐区（高性价比优惠券推荐3-5张）
- ❌ 优惠券列表（瀑布流或列表展示所有可领取优惠券）

**优惠券类型**（管理端可创建更多类型）:
- 满减券：满X元减Y元（如满500减50）
- 折扣券：X折优惠（如9折、8.5折）
- 日租抵扣券：每日租金抵扣X元（可叠加使用）
- 门店服务费减免券：减免门店服务费
- 异地还车费减免券：减免异地还车费用
- 新人专享券：仅限新用户首单使用
- 会员专属券：仅限PLUS会员使用
- 生日特权券：生日当月专属优惠券

**获取方式**（由管理端创建优惠券时设定）:
- ❌ 新人免费领取（注册成功后自动发放或手动领取）
- ❌ 积分兑换（使用消费积分兑换，主要方式）
- ❌ 现金购买（支付现金购买优惠券）
- ❌ 积分+现金（部分积分+部分现金组合购买）
- ❌ 系统赠送（注册、生日、活动自动发放）
- ❌ 分享得券（分享优惠券链接，好友领取后分享者获得奖励券）
- ❌ 邀请得券（邀请新用户注册并完成首单，邀请人获得专属券）
- ❌ 会员专属（PLUS会员专属优惠券，会员中心领取）

**优惠券卡片信息**:
- 券面设计（满减券、折扣券等不同样式）
- 优惠内容（面额或折扣力度）
- 优惠券名称（如"房车租赁50元满减券"）
- 适用范围（如"适用于所有房车租赁订单"）
- 使用条件（如"满500元可用"）
- 有效期（如"领取后30天内有效"）
- 获取方式（显示所需积分、现金或组合价格）
- 库存状态（限量券显示剩余数量）
- 特殊标识（新人专享、会员专属、即将售罄等标签）
- 操作按钮（免费领取/积分兑换/现金购买/组合购买/已领取/已售罄）

**优惠券详情页功能**:
- ❌ 券面大图展示
- ❌ 优惠说明（详细的优惠内容和力度）
- ❌ 使用规则（适用范围、使用条件、叠加规则、有效期、特殊限制）
- ❌ 获取信息（获取方式、库存状态、每人限领次数）
- ❌ 使用说明（如何在下单时使用优惠券）
- ❌ 常见问题（FAQ解答）
- ❌ 立即领取/购买按钮（底部固定按钮）

**我的优惠券功能**（根据产品需求文档3.10节）:
- ❌ Tab分类（未使用、已使用、已过期）
- ❌ 未使用列表（按过期时间排序，即将过期的排在前面）
- ❌ 即将过期提醒（7天内过期高亮显示）
- ❌ 操作按钮（立即使用、查看详情、分享）
- ❌ 已使用列表（显示使用时间、订单号）
- ❌ 已过期列表（显示过期时间，灰色显示）
- ❌ 过期提醒（7天内过期推送提醒，过期当天再次提醒）

**分享得券机制**:
- ❌ 分享入口（优惠券详情页、我的优惠券页面）
- ❌ 分享方式（生成分享海报或小程序卡片）
- ❌ 分享奖励（好友通过分享链接领取后，分享者获得奖励券）
- ❌ 奖励规则（管理端可设定奖励券类型和数量）
- ❌ 分享限制（每张优惠券可分享次数限制）
- ❌ 分享追踪（系统记录分享关系，确保奖励准确发放）
- ❌ 防刷机制（同一用户多次领取不重复计算奖励）

**邀请中心功能**（根据产品需求文档3.10节）:
- ❌ 邀请统计卡片（累计邀请人数、成功注册数、完成首单数、累计获得奖励）
- ❌ 邀请方式（生成专属邀请码、生成邀请海报含二维码、一键分享到微信好友/群）
- ❌ 邀请记录（被邀请人昵称脱敏、注册时间、首单状态、奖励状态）
- ❌ 奖励规则说明（详细说明邀请奖励机制）
- ❌ 邀请奖励（新用户注册获得新人专享券、新用户首单获得多张优惠券奖励）

**业务流程实现**（根据产品需求文档6.9节）:
- ❌ 新人免费领取流程（8步完整流程）
- ❌ 积分兑换流程（9步完整流程，二次确认防止误操作）
- ❌ 现金购买流程（8步完整流程，15分钟支付时限）
- ❌ 积分+现金组合购买流程（8步完整流程，原子操作保证一致性）
- ❌ 分享得券流程（8步完整流程，分享追踪和防刷机制）
- ❌ 邀请得券流程（8步完整流程，注册绑定和首单验证）
- ❌ 会员专属领取流程（6步完整流程，会员验证和定期发放）

**API接口定义**:
- ❌ GET /api/v1/coupons - 获取优惠券列表
- ❌ GET /api/v1/coupons/{id} - 获取优惠券详情
- ❌ POST /api/v1/coupons/{id}/claim - 领取优惠券（免费/积分/现金/组合）
- ❌ GET /api/v1/coupons/my - 获取我的优惠券列表
- ❌ POST /api/v1/coupons/{id}/share - 分享优惠券
- ❌ GET /api/v1/coupons/categories - 获取优惠券分类
- ❌ POST /api/v1/invite/generate-code - 生成邀请码
- ❌ GET /api/v1/invite/stats - 获取邀请统计
- ❌ GET /api/v1/invite/records - 获取邀请记录
- ❌ POST /api/v1/coupons/check-availability - 检查优惠券可用性

**验证测试**:
- [ ] 商城首页加载正常，显示优惠券列表
- [ ] 分类导航和筛选功能正常工作
- [ ] 优惠券详情展示完整
- [ ] 领取/兑换/购买功能正常
- [ ] 我的优惠券列表正常显示
- [ ] 优惠券状态同步正确
- [ ] 分享功能正常工作
- [ ] 邀请中心功能正常
- [ ] 邀请统计数据正确
- [ ] 从首页入口可正常跳转

**预计工时**: 4-5天

**文件清单**（预计）:
- pages/coupon-mall/index.vue (约800行)
- pages/coupon-mall/detail.vue (约600行)
- pages/profile/coupons.vue (约700行)
- pages/profile/invite.vue (约600行)
- api/coupon.ts (约400行)
- components/business/ServiceGrid.vue (已更新)
- pages.json (已更新)
- docs/小程序端API.md (已更新)

**交付物**: 特惠商城首页、优惠券详情页、我的优惠券页、邀请中心页、API文件、完整Mock数据

---

**注意**: 本实施计划需要根据实际开发进展和业务需求变化进行动态调整，确保项目按时高质量交付。