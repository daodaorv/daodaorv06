[根目录](../../CLAUDE.md) > [miniprogram](../) > **miniprogram**

# Miniprogram 模块文档

## 📋 模块概述

Miniprogram是叨叨房车租赁管理平台的C端小程序应用，基于uni-app 3 + Vue 3构建，为用户提供房车租赁服务的前端界面。

## ⚠️ 重要说明

**当前状态**: 页面已清空，待重构开发
- **页面文件**: 仅保留 `pages/index/index.vue`
- **组件文件**: 基础组件保留
- **文档目录**: 技术文档完整保留
- **配置文件**: manifest.json, pages.json 保留

## 🏗️ 技术架构

### 技术栈
- **框架**: uni-app 3 + Vue 3
- **语言**: TypeScript 5.1.6
- **UI组件库**: uni-ui
- **状态管理**: Vuex (或Pinia可选)
- **构建工具**: HBuilderX + uni-app CLI

### 开发状态
- **整体完成度**: 5% (重构前70%)
- **页面数量**: 1/32 (仅保留首页)
- **核心功能**: 待重构开发
- **API对接**: 待后端激活后对接

## 📁 目录结构

```
miniprogram/
├── pages/                  # 页面目录 (已清空，待重构)
│   └── index/
│       └── index.vue       # 首页 (保留)
├── components/             # 组件目录 (基础组件保留)
├── static/                 # 静态资源
├── docs/                   # 技术文档 (完整保留)
│   ├── 小程序API.md
│   ├── 小程序产品需求文档.md
│   ├── 小程序技术文档.md
│   └── 实际操作手册.md
├── uni_modules/            # uni-app模块
├── manifest.json           # 小程序配置
├── pages.json              # 页面配置
├── App.vue                 # 应用入口
├── main.ts                 # 主入口文件
└── package.json
```

## 🚀 应用配置

### 小程序配置 (manifest.json)
```json
{
  "name": "miniprogram",
  "appid": "__UNI__AA65A95",
  "description": "叨叨房车小程序",
  "versionName": "1.0.0",
  "vueVersion": "3",
  "mp-weixin": {
    "appid": "wx545d8668053b84a8",
    "setting": {
      "urlCheck": false
    }
  },
  "h5": {
    "title": "叨叨房车",
    "router": {
      "mode": "history"
    }
  }
}
```

### 页面配置 (pages.json)
```json
{
  "pages": [
    {
      "path": "pages/index/index",
      "style": {
        "navigationBarTitleText": "叨叨房车"
      }
    }
  ],
  "globalStyle": {
    "navigationBarTextStyle": "black",
    "navigationBarTitleText": "叨叨房车",
    "navigationBarBackgroundColor": "#F8F8F8",
    "backgroundColor": "#F8F8F8"
  }
}
```

## 📱 核心功能模块 (待重构)

### 1. 首页模块
- **轮播图**: 首页Banner展示
- **车辆推荐**: 热门房车推荐
- **品牌展示**: 房车品牌展示
- **活动专区**: 促销活动展示
- **快速入口**: 快速导航功能

### 2. 车辆展示模块
- **车辆列表**: 车辆搜索、筛选、分页
- **车辆详情**: 车辆信息、图片、价格
- **车辆对比**: 多车辆对比功能
- **收藏功能**: 收藏喜欢的车辆

### 3. 订单管理模块
- **租车流程**: 选择车辆、填写信息、确认订单
- **订单列表**: 订单状态跟踪、历史订单
- **订单详情**: 订单信息、支付状态
- **评价系统**: 租赁后评价功能

### 4. 用户中心模块
- **个人信息**: 用户资料管理
- **认证信息**: 实名认证、驾驶证认证
- **订单管理**: 订单状态、历史记录
- **设置功能**: 账户设置、消息通知

### 5. 营销功能模块
- **优惠券**: 优惠券领取、使用
- **活动中心**: 促销活动参与
- **积分系统**: 积分获取、兑换
- **分享功能**: 分享给好友

## 🎨 UI/UX设计规范

### 设计原则
- **简洁易用**: 符合微信小程序设计规范
- **响应式**: 适配不同屏幕尺寸
- **一致体验**: 与品牌形象保持一致
- **性能优先**: 优化加载速度和交互响应

### 组件规范
- **使用uni-ui**: 优先使用uni-ui组件库
- **自定义组件**: 基于uni-app规范开发
- **主题色**: 使用品牌色彩体系
- **字体规范**: 统一字体大小和行高

## 🔗 API对接计划

### 待对接API (后端激活后)
1. **认证API**
   - 微信登录
   - 手机号绑定
   - 用户信息获取

2. **车辆API**
   - 车辆列表
   - 车辆详情
   - 车辆搜索
   - 车辆收藏

3. **订单API**
   - 创建订单
   - 订单支付
   - 订单状态查询
   - 订单历史

4. **用户API**
   - 用户信息
   - 实名认证
   - 评价管理
   - 收藏管理

5. **营销API**
   - 优惠券列表
   - 优惠券领取
   - 活动信息
   - 积分查询

## 🛠️ 重构开发计划

### Phase 1: 基础架构 (本周)
1. **项目初始化**
   - 配置uni-app项目结构
   - 集成uni-ui组件库
   - 配置TypeScript和ESLint
   - 设置状态管理

2. **核心页面开发**
   - 首页重构
   - 车辆列表页
   - 车辆详情页
   - 用户登录页

### Phase 2: 核心功能 (下周)
1. **订单流程**
   - 车辆选择页面
   - 订单确认页面
   - 支付页面
   - 订单列表页面

2. **用户中心**
   - 个人信息页面
   - 实名认证页面
   - 设置页面
   - 消息中心

### Phase 3: 高级功能 (后续)
1. **营销功能**
   - 优惠券页面
   - 活动中心
   - 分享功能
   - 积分商城

2. **增值功能**
   - 车辆对比
   - 智能推荐
   - 在线客服
   - 帮助中心

## 📱 小程序平台适配

### 微信小程序
- **主要平台**: 核心功能完整实现
- **支付集成**: 微信支付集成
- **分享功能**: 微信分享和朋友圈分享
- **用户授权**: 微信用户信息获取

### 支付宝小程序
- **次要平台**: 基础功能适配
- **支付集成**: 支付宝支付集成
- **用户体系**: 支付宝用户授权

### H5版本
- **Web端**: 响应式网页版
- **分享功能**: 社交媒体分享
- **SEO优化**: 搜索引擎优化

## 🔍 性能优化策略

### 加载优化
- **图片懒加载**: 延迟加载图片资源
- **分页加载**: 大列表分页处理
- **预加载**: 关键页面预加载
- **缓存策略**: 合理使用本地缓存

### 渲染优化
- **虚拟列表**: 大列表虚拟滚动
- **防抖节流**: 交互事件优化
- **按需渲染**: 页面元素按需显示
- **动画优化**: CSS动画性能优化

## 🛡️ 安全与合规

### 数据安全
- **用户隐私**: 遵循微信小程序隐私规范
- **数据加密**: 敏感数据加密传输
- **权限控制**: 最小权限原则
- **安全审计**: 定期安全检查

### 合规要求
- **小程序审核**: 符合平台审核要求
- **内容规范**: 遵循内容发布规范
- **支付合规**: 遵循支付行业规范
- **用户协议**: 完善用户服务协议

## 📝 开发规范

### 代码规范
- **TypeScript**: 严格模式，完整类型定义
- **Vue组件**: Composition API，script setup
- **命名规范**: kebab-case文件名，PascalCase组件名
- **注释规范**: JSDoc完整注释

### Git规范
- **分支管理**: feature分支开发
- **提交信息**: Conventional Commits
- **代码审查**: Pull Request审查
- **版本管理**: 语义化版本号

## 🔗 相关文档链接

- [技术实现文档](./docs/小程序技术文档.md)
- [产品需求文档](./docs/小程序产品需求文档.md)
- [API接口文档](./docs/小程序API.md)
- [实际操作手册](./docs/实际操作手册.md)
- [后端API文档](../backend/CLAUDE.md)
- [根目录配置文档](../../CLAUDE.md)

## 📞 技术支持

### 开发工具
- **HBuilderX**: 官方IDE推荐
- **微信开发者工具**: 微信小程序调试
- **uni-app CLI**: 命令行开发工具

### 常用命令
```bash
# 开发运行
npm run dev:mp-weixin     # 微信小程序
npm run dev:h5           # H5版本

# 构建发布
npm run build:mp-weixin  # 微信小程序构建
npm run build:h5         # H5版本构建

# 代码检查
npm run lint             # ESLint检查
npm run type-check       # TypeScript检查
```

### 调试技巧
- 使用微信开发者工具调试
- 使用console.log输出调试信息
- 使用Vue DevTools调试组件
- 使用Network面板监控API请求

## 🚨 强制开发规则 (Always)

> **重要**: 在编写任何代码之前，必须遵守以下强制规则

### 📚 文档阅读规则
```markdown
# 在编写任何代码之前，务必阅读 \miniprogram\docs\小程序端技术栈文档。
# 在编写任何代码之前，务必阅读 \miniprogram\docs\小程序端产品需求文档。
```

### 🔄 进度更新规则
```markdown
# 添加主要功能或完成里程碑后，更新 \miniprogram\docs\实施计划
# 添加主要功能或完成里程碑后，更新 \miniprogram\docs\小程序端API.md,更新并记录开发状态：未开发、已开发、待后端开发、待联调、联调结果。
```

### ⚠️ 违规后果
- **不读文档开发**: 可能导致代码不符合规范，需要重构
- **不更新进度**: 无法准确追踪项目状态，影响团队协作
- **跳过步骤**: 可能造成功能缺失或架构不匹配

### ✅ 开发检查清单
在每次提交代码前，请确认：
- [ ] 已阅读相关技术栈文档
- [ ] 已阅读相关产品需求文档
- [ ] 已更新实施计划文档
- [ ] 已更新API文档并记录状态
- [ ] 代码符合项目规范
- [ ] 功能测试通过

---

**模块维护者**: 小程序开发团队
**最后更新**: 2025-11-26 22:15
**下次审核**: 2025-12-03