[根目录](../../CLAUDE.md) > [mobile-admin](../) > **mobile-admin**

# Mobile Admin 模块文档

## 📋 模块概述

Mobile Admin是叨叨房车租赁管理平台的移动端管理应用，基于uni-app 3 + Vue 3构建，为现场工作人员提供移动化的管理功能。

## ⚠️ 重要说明

**当前状态**: 页面已清空，待重构开发
- **页面文件**: 仅保留 `pages/index/index.vue`
- **组件文件**: 基础组件保留
- **文档目录**: 技术文档完整保留
- **配置文件**: manifest.json, pages.json 保留

## 🏗️ 技术架构

### 技术栈
- **框架**: uni-app 3 + Vue 3
- **语言**: TypeScript 5.1.6
- **UI组件库**: uni-ui
- **状态管理**: Vuex (或Pinia可选)
- **构建工具**: HBuilderX + uni-app CLI

### 开发状态
- **整体完成度**: 5% (重构前30%)
- **页面数量**: 1/5 (仅保留首页)
- **核心功能**: 待重构开发
- **API对接**: 待后端激活后对接

## 📁 目录结构

```
mobile-admin/
├── pages/                  # 页面目录 (已清空，待重构)
│   └── index/
│       └── index.vue       # 首页 (保留)
├── components/             # 组件目录 (基础组件保留)
├── static/                 # 静态资源
├── docs/                   # 技术文档 (完整保留)
│   ├── 移动管理端API.md
│   ├── 移动管理端产品需求文档.md
│   ├── 移动管理端技术文档.md
│   └── 实际操作手册.md
├── uni_modules/            # uni-app模块
├── manifest.json           # 应用配置
├── pages.json              # 页面配置
├── App.vue                 # 应用入口
├── main.ts                 # 主入口文件
└── package.json
```

## 🚀 应用配置

### 应用配置 (manifest.json)
```json
{
  "name": "mobile-admin",
  "appid": "__UNI__5F18910",
  "description": "叨叨房车移动管理端",
  "versionName": "1.0.0",
  "vueVersion": "3",
  "mp-weixin": {
    "appid": "wx545d8668053b84a8",
    "setting": {
      "urlCheck": false
    }
  },
  "h5": {
    "title": "叨叨房车移动管理端",
    "router": {
      "mode": "history"
    }
  }
}
```

### 页面配置 (pages.json)
```json
{
  "pages": [
    {
      "path": "pages/index/index",
      "style": {
        "navigationBarTitleText": "移动管理"
      }
    }
  ],
  "globalStyle": {
    "navigationBarTextStyle": "black",
    "navigationBarTitleText": "移动管理",
    "navigationBarBackgroundColor": "#F8F8F8",
    "backgroundColor": "#F8F8F8"
  }
}
```

## 📱 核心功能模块 (待重构)

### 1. 订单管理模块
- **订单列表**: 今日订单、待处理订单
- **订单详情**: 订单信息、客户信息、车辆信息
- **订单状态**: 取车确认、还车确认
- **订单操作**: 订单接收、状态更新

### 2. 车辆管理模块
- **车辆状态**: 车辆可用性、位置信息
- **车辆检查**: 取车检查、还车检查
- **车辆维护**: 维护记录、故障上报
- **车辆图片**: 拍照记录、图片上传

### 3. 客户管理模块
- **客户信息**: 客户资料查看
- **身份验证**: 身份证、驾驶证验证
- **客户沟通**: 联系客户、备注记录
- **客户评价**: 服务评价记录

### 4. 现场操作模块
- **拍照功能**: 车况拍照、证件拍照
- **扫码功能**: 二维码扫描、车牌识别
- **位置服务**: GPS定位、地图导航
- **消息通知**: 订单提醒、系统通知

### 5. 数据统计模块
- **工作统计**: 个人工作量统计
- **收入统计**: 个人业绩统计
- **车辆统计**: 车辆使用统计
- **客户统计**: 客户服务统计

## 🎨 UI/UX设计规范

### 设计原则
- **移动优先**: 专为移动端设计
- **操作便捷**: 大按钮、易操作
- **信息清晰**: 关键信息突出显示
- **场景适配**: 适应各种工作场景

### 交互设计
- **手势操作**: 支持滑动、长按等手势
- **快速操作**: 常用功能快速访问
- **离线支持**: 关键功能支持离线操作
- **语音输入**: 支持语音转文字

## 🔗 API对接计划

### 待对接API (后端激活后)
1. **认证API**
   - 管理员登录
   - 权限验证
   - 操作日志记录

2. **订单API**
   - 订单列表查询
   - 订单状态更新
   - 订单详情获取
   - 订单操作记录

3. **车辆API**
   - 车辆状态查询
   - 车辆位置更新
   - 车辆检查记录
   - 车辆图片上传

4. **客户API**
   - 客户信息查询
   - 客户验证处理
   - 沟通记录保存
   - 评价记录提交

5. **统计API**
   - 工作统计数据
   - 业绩数据查询
   - 报表数据获取
   - 数据导出功能

## 🛠️ 重构开发计划

### Phase 1: 基础架构 (本周)
1. **���目初始化**
   - 配置uni-app项目结构
   - 集成uni-ui组件库
   - 配置TypeScript和ESLint
   - 设置状态管理和路由

2. **核心页面开发**
   - 登录页面
   - 首页工作台
   - 订单列表页面
   - 个人中心页面

### Phase 2: 核心功能 (下周)
1. **订单处理功能**
   - 订单详情页面
   - 取车确认功能
   - 还车确认功能
   - 状态更新功能

2. **车辆管理功能**
   - 车辆列表页面
   - 车辆检查功能
   - 图片上传功能
   - 位置记录功能

### Phase 3: 高级功能 (后续)
1. **客户服务功能**
   - 客户信息查看
   - 沟通记录管理
   - 验证处理功能
   - 评价管理功能

2. **数据统计功能**
   - 工作统计页面
   - 业绩统计图表
   - 数据导出功能
   - 报表生成功能

## 📱 移动端适配策略

### 屏幕适配
- **响应式设计**: 适配不同屏幕尺寸
- **横竖屏适配**: 支持横竖屏切换
- **刘海屏适配**: 适配全面屏设备
- **字体大小**: 支持系统字体大小设置

### 性能优化
- **图片优化**: 图片压缩和懒加载
- **网络优化**: 请求缓存和离线支持
- **渲染优化**: 列表虚拟滚动
- **内存优化**: 及时释放不需要的资源

## 🔐 权限与安全

### 权限控制
- **登录认证**: 基于Token的身份认证
- **角色权限**: 不同角色不同权限
- **操作权限**: 细粒度的功能权限控制
- **数据权限**: 基于门店的数据权限

### 数据安全
- **数据加密**: 敏感数据加密传输
- **本地存储**: 安全的本地数据存储
- **操作审计**: 完整的操作日志记录
- **设备绑定**: 设备与账号绑定验证

## 🔍 离线功能设计

### 离线数据缓存
- **订单数据**: 缓存今日订单数据
- **车辆数据**: 缓存负责车辆信息
- **客户数据**: 缓存常用客户信息
- **配置数据**: 缓存系统配置信息

### 离线操作支持
- **状态更新**: 离线状态更新缓存
- **图片上传**: 离线图片暂存上传
- **操作记录**: 离线操作记录同步
- **数据同步**: 网络恢复后数据同步

## 🛠️ 原生功能集成

### 相机功能
- **拍照上传**: 车辆状况拍照
- **扫码功能**: 二维码和条形码扫描
- **图片处理**: 图片压缩和裁剪
- **批量上传**: 多张图片批量处理

### 定位功能
- **GPS定位**: 获取当前位置
- **地图导航**: 车辆位置导航
- **距离计算**: 距离和时间计算
- **轨迹记录**: 行车轨迹记录

### 通信功能
- **消息推送**: 实时消息推送
- **电话拨打**: 一键拨打电话
- **短信发送**: 短信通知功能
- **邮件发送**: 邮件通知功能

## 📝 开发规范

### 代码规范
- **TypeScript**: 严格模式，完整类型定义
- **Vue组件**: Composition API，script setup
- **命名规范**: kebab-case文件名，PascalCase组件名
- **注释规范**: JSDoc完整注释

### 移动端规范
- **触摸优化**: 按钮大小和间距优化
- **手势支持**: 支持常用手势操作
- **网络适配**: 不同网络环境适配
- **电量优化**: 减少不必要的操作

## 🔗 相关文档链接

- [技术实现文档](./docs/移动管理端技术文档.md)
- [产品需求文档](./docs/移动管理端产品需求文档.md)
- [API接口文档](./docs/移动管理端API.md)
- [实际操作手册](./docs/实际操作手册.md)
- [后端API文档](../backend/CLAUDE.md)
- [PC管理端文档](../admin-console/CLAUDE.md)
- [根目录配置文档](../../CLAUDE.md)

## 📞 技术支持

### 开发工具
- **HBuilderX**: 官方IDE推荐
- **微信开发者工具**: 微信小程序调试
- **uni-app CLI**: 命令行开发工具
- **真机调试**: 移动设备真机调试

### 常用命令
```bash
# 开发运行
npm run dev:mp-weixin     # 微信小程序
npm run dev:h5           # H5版本
npm run dev:app          # App版本

# 构建发布
npm run build:mp-weixin  # 微信小程序构建
npm run build:h5         # H5版本构建
npm run build:app        # App版本构建

# 代码检查
npm run lint             # ESLint检查
npm run type-check       # TypeScript检查
```

### 调试技巧
- 使用微信开发者工具调试
- 使用真机调试实际使用场景
- 使用console.log输出调试信息
- 使用Network面板监控API请求

## 🚨 强制开发规则 (Always)

> **重要**: 在编写任何代码之前，必须遵守以下强制规则

### 📚 文档阅读规则
```markdown
# 在编写任何代码之前，务必阅读 \mobile-admin\docs\移动管理端技术栈文档。
# 在编写任何代码之前，务必阅读 \mobile-admin\docs\移动管理端产品需求文档。
```

### 🔄 进度更新规则
```markdown
# 添加主要功能或完成里程碑后，更新 \mobile-admin\docs\实施计划
# 添加主要功能或完成里程碑后，更新 \mobile-admin\docs\移动管理端API.md,更新并记录开发状态：未开发、已开发、待后端开发、待联调、联调结果。
```

### ⚠️ 违规后果
- **不读文档开发**: 可能导致代码不符合规范，需要重构
- **不更新进度**: 无法准确追踪项目状态，影响团队协作
- **跳过步骤**: 可能造成功能缺失或架构不匹配

### ✅ 开发检查清单
在每次提交代码前，请确认：
- [ ] 已阅读相关技术栈文档
- [ ] 已阅读相关产品需求文档
- [ ] 已更新实施计划文档
- [ ] 已更新API文档并记录状态
- [ ] 代码符合项目规范
- [ ] 功能测试通过

---

**模块维护者**: 移动端开发团队
**最后更新**: 2025-11-26 22:15
**下次审核**: 2025-12-03