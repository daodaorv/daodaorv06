# 移动管理端功能设计文档

**文档版本**: v1.0 | **创建时间**: 2025-11-11 | **适用范围**: 移动管理端所有功能模块

---

## 1. UI框架架构设计

### 1.1 开发优先级说明

**开发策略调整**: 移动管理端作为外勤工具，页面架构设计必须优先考虑现场工作流程的连贯性和效率。在开始具体功能模块开发之前，必须优先完成UI框架架构设计。

**重要性说明**:
- 现场操作人员需要在复杂环境中快速完成业务流程
- 避免用户在多个Tab间切换造成的操作中断
- 确保业务流程的完整性和可追溯性
- 减少现场操作的认知负担和错误率

### 1.2 底部导航Tabbar设计

**移动管理端底部导航采用五个Tab结构**:

| Tab图标 | Tab名称 | 功能定位 | 包含的核心功能 |
|---------|---------|----------|----------------|
| 🏠 | **工作台** | 数据概览与任务管理 | 数据概览、待办任务、快捷操作、今日提醒 |
| 📋 | **订单** | 订单工作台处理 | 订单列表、详情处理、状态跟踪、异常处理 |
| 🚗 | **车辆** | 车辆状态与维保管理 | 车辆状态查看、维保处理、调度管理、清洁管理 |
| 💬 | **消息** | 客服响应与沟通 | 客服沟通、工单处理、系统通知、紧急提醒 |
| 👤 | **我的** | 个人信息与系统设置 | 个人信息、系统设置、帮助中心、数据同步 |

### 1.3 页面层级架构

**四级页面结构设计**:

```
Level 1: 底部导航层 (Tabbar)
├── 工作台 (Dashboard)
├── 订单 (Orders)
├── 车辆 (Vehicles)
├── 消息 (Messages)
└── 我的 (Profile)

Level 2: 列表与状态层
├── 待办任务列表
├── 订单状态列表
├── 车辆状态列表
├── 工单消息列表
└── 个人设置列表

Level 3: 详情与操作层
├── 任务详情页面
├── 订单详情页面
├── 车辆详情页面
├── 工单详情页面
└── 设置详情页面

Level 4: 表单与上传层
├── 任务完成表单
├── 订单处理表单
├── 车辆检查表单
├── 照片上传界面
└── 签名确认界面
```

### 1.4 移动端特性设计

**现场操作优化**:
- 大按钮设计，便于单手操作
- 清晰的操作流程指引
- 离线数据缓存，支持无网操作
- 语音输入支持，减少手动输入
- 照片拍照集成，现场资料采集

**数据同步策略**:
- 实时同步关键数据（订单状态、紧急消息）
- 延迟同步统计数据（报表、分析）
- 离线存储本地操作数据
- 网络恢复后自动同步

---

## 2. 移动管理端概述

### 2.1 功能描述

叨叨房车移动管理端是面向门店与总部运营团队的外勤管理工具，作为PC管理端的场景化补充，确保运营人员在外出、驻店、现场等非办公环境下也能高效处理关键业务。支持现场车辆检查、订单处理、客户服务等核心业务流程。

### 2.2 业务价值

- **即时响应**: 订单、客诉、事故等紧急事项实现随时随地处理
- **标准执行**: 移动端提供现场核验与凭证采集能力，保证流程可追溯
- **协同提效**: 与PC管理端、小程序端保持数据与规则一致，减少沟通成本
- **风险可控**: 通过权限与审计机制，保障跨门店、跨团队操作的合规性

### 2.3 用户角色

- **门店经理**: 门店运营管理，负责门店日常业务和员工管理
- **门店员工**: 外勤服务人员，负责车辆检查、客户服务、现场操作
- **客服人员**: 客户服务支持，负责客户咨询、投诉处理、工单管理
- **调度人员**: 车辆调度协调，负责车辆调度、资源分配

### 2.4 验收标准

- 支持现场业务流程的移动化处理
- 实现与PC端的数据实时同步
- 提供离线操作和数据缓存能力
- 支持拍照、录音等多媒体信息采集
- 系统响应时间 < 2秒，支持100个外勤人员同时在线

---

## 3. 核心业务功能

### 3.1 工作台模块

#### 功能描述
提供数据概览、待办任务、快捷操作和今日提醒，作为移动端的主要工作入口。

#### 核心功能列表
| 功能类别 | 功能名称 | 功能描述 | 优先级 |
|---------|---------|---------|--------|
| 数据概览 | 实时数据 | 订单量、收入、车辆状态等关键指标 | P0 |
| 待办任务 | 任务管理 | 待处理任务、任务提醒、任务跟踪 | P0 |
| 快捷操作 | 常用功能 | 常用功能快速入口 | P1 |
| 今日提醒 | 事项提醒 | 今日重要事项、预约提醒 | P1 |

#### 主要业务流程
- 工作台加载流程：应用启动 → 数据同步 → 概览展示 → 任务提醒
- 任务处理流程：查看任务 → 点击处理 → 执行操作 → 完成记录
- 数据查看流程：选择指标 → 数据展示 → 详细分析 → 导出分享

#### 数据需求
- **user_tasks** (用户任务表) - 需要创建
- **mobile_sync_logs** (移动端同步日志表) - 需要创建
- **daily_summaries** (日汇总表) - 需要创建

### 3.2 订单模块

#### 功能描述
提供订单处理、状态跟踪、异常处理等功能，支持移动端订单全流程管理。

#### 核心功能列表
| 功能类别 | 功能名称 | 功能描述 | 优先级 |
|---------|---------|---------|--------|
| 订单处理 | 订单管理 | 订单列表、详情查看、状态更新 | P0 |
| 状态跟踪 | 订单监控 | 订单状态实时跟踪、变更提醒 | P0 |
| 异常处理 | 异常管理 | 订单异常处理、问题上报 | P0 |
| 客户联系 | 客户沟通 | 客户信息查看、联系记录 | P1 |
| 现场核验 | 现场检查 | 现场拍照、资料上传、确认记录 | P1 |

#### 主要业务流程
- 订单查看流程：打开订单 → 查看详情 → 确认状态 → 执行操作
- 现场核验流程：到达现场 → 拍照记录 → 填写表单 → 上传资料
- 异常处理流程：发现异常 → 上报问题 → 跟踪处理 → 记录结果

#### 数据需求
- **orders** (订单表) - 数据字典: 04-订单业务表.md
- **order_status_logs** (订单状态日志表) - 数据字典: 04-订单业务表.md
- **field_verifications** (现场核验表) - 需要创建

### 3.3 车辆模块

#### 功能描述
提供车辆状态查看、维保管理、调度协调等功能，支持移动端车辆全生命周期管理。

#### 核心功能列表
| 功能类别 | 功能名称 | 功能描述 | 优先级 |
|---------|---------|---------|--------|
| 车辆状态 | 状态查看 | 车辆位置、状态、使用情况查看 | P0 |
| 维保管理 | 维保处理 | 维保计划、维保记录、维保提醒 | P0 |
| 调度管理 | 车辆调度 | 车辆调度协调、任务分配 | P1 |
| 清洁管理 | 清洁服务 | 清洁任务、清洁记录、质量检查 | P1 |
| 检查记录 | 车辆检查 | 车辆检查表、检查记录、问题上报 | P1 |

#### 主要业务流程
- 车辆查看流程：选择车辆 → 查看状态 → 位置信息 → 使用记录
- 维保处理流程：维保提醒 → 到达现场 → 拍照记录 → 填写表单
- 调度协调流程：调度任务 → 车辆分配 → 联系客户 → 完成调度

#### 数据需求
- **vehicles** (车辆表) - 数据字典: 03-车辆相关表.md
- **vehicle_maintenance** (维保记录表) - 数据字典: 03-车辆相关表.md
- **vehicle_cleaning** (清洁记录表) - 需要创建

### 3.4 消息模块

#### 功能描述
提供客服沟通、工单处理、系统通知、紧急提醒等功能，确保及时响应客户需求。

#### 核心功能列表
| 功能类别 | 功能名称 | 功能描述 | 优先级 |
|---------|---------|---------|--------|
| 客服沟通 | 在线沟通 | 客服在线聊天、语音通话、视频通话 | P0 |
| 工单管理 | 工单处理 | 工单创建、分配、处理、关闭 | P0 |
| 系统通知 | 消息提醒 | 系统消息、订单提醒、任务提醒 | P1 |
| 紧急提醒 | 危急通知 | 紧急事件、异常情况通知 | P1 |

#### 主要业务流程
- 客服沟通流程：发起沟通 → 选择方式 → 连接客服 → 问题解决
- 工单处理流程：创建工单 → 分配处理 → 跟踪进度 → 完成关闭
- 消息提醒流程：系统检测 → 消息推送 → 用户查看 → 确认处理

#### 数据需求
- **customer_service_records** (客服记录表) - 数据字典: 07-内容管理表.md
- **service_tickets** (工单表) - 需要创建
- **mobile_notifications** (移动端通知表) - 需要创建

---

## 4. 个人中心功能

### 4.1 个人中心模块

#### 功能描述
提供个人信息管理、系统设置、帮助中心等功能，支持移动端个人账户管理。

#### 核心功能列表
| 功能类别 | 功能名称 | 功能描述 | 优先级 |
|---------|---------|---------|--------|
| 个人信息 | 资料管理 | 头像、姓名、职位、联系方式管理 | P1 |
| 系统设置 | 设置管理 | 通知设置、权限设置、数据同步 | P1 |
| 数据同步 | 同步管理 | 数据同步状态、同步配置、离线数据 | P1 |
| 帮助中心 | 帮助文档 | 使用指南、常见问题、联系支持 | P2 |

#### 主要业务流程
- 资料更新流程：进入个人中心 → 编辑资料 → 保存修改 → 更新成功
- 设置调整流程：打开设置 → 选择项目 → 调整参数 → 保存应用
- 数据同步流程：检查同步状态 → 手动同步 → 同步完成 → 状态更新

#### 数据需求
- **employees** (员工表) - 数据字典: 01-用户相关表.md
- **user_settings** (用户设置表) - 需要创建
- **sync_status** (同步状态表) - 需要创建

---

## 5. 现场核验与资料采集

### 5.1 核验检查模块

#### 功能描述
提供标准化的现场核验流程，包括检查表、拍照记录、签名确认等功能。

#### 核心功能列表
| 功能类别 | 功能名称 | 功能描述 | 优先级 |
|---------|---------|---------|--------|
| 检查模板 | 标准检查表 | 预定义检查项目、检查流程 | P0 |
| 现场拍照 | 照片采集 | 现场照片、视频录制、图片标注 | P0 |
| 表单填写 | 数字表单 | 结构化表单、必填项验证、自动保存 | P0 |
| 电子签名 | 签名确认 | 手写签名、电子签名、身份验证 | P0 |

#### 主要业务流程
- 检查流程：选择模板 → 按项检查 → 拍照记录 → 签名确认
- 资料上传流程：选择资料 → 拍摄上传 → 质量检查 → 提交审核

#### 数据需求
- **checklist_templates** (检查模板表) - 需要创建
| **field_verifications** (现场核验表) - 需要创建
| **verification_attachments** (核验附件表) - 需要创建

---

## 6. 集成需求

### 6.1 内部模块依赖

- **工作台模块**: 被所有业务模块依赖，提供工作入口和任务提醒
- **订单模块**: 依赖车辆、消息模块，提供订单处理功能
- **车辆模块**: 依赖订单、维保模块，提供车辆管理功能
- **消息模块**: 被所有业务模块依赖，提供沟通和通知功能

### 6.2 外部接口需求

**地图服务接口**:
- 定位服务: GET /api/location/current
- 地图显示: GET /api/location/map
- 路线导航: GET /api/navigation/route

**拍照服务接口**:
- 相机调用: POST /api/camera/capture
- 图片上传: POST /api/images/upload
- 图片处理: POST /api/images/process

**通讯服务接口**:
- 短信发送: POST /api/sms/send
- 语音通话: POST /api/call/voice
- 视频通话: POST /api/video/call

### 6.3 PC端数据同步

- **用户数据同步**: 个人信息、权限设置实时同步
- **任务数据同步**: 待办任务、工作进度实时同步
- **订单数据同步**: 订单状态、处理记录实时同步
- **车辆数据同步**: 车辆状态、位置信息实时同步

---

## 7. 验收场景

### 7.1 正常场景

**现场操作场景**:
- 门店员工现场检查车辆，拍照记录车辆状况
- 客服人员现场处理客户问题，记录现场情况
- 调度人员现场协调车辆，确认车辆状态
- 现场核验流程顺畅，资料采集完整

**移动办公场景**:
- 外勤人员处理订单，实时更新订单状态
- 客服响应客户咨询，及时解决问题
- 现场资料上传，后台及时审核确认
- 离线操作支持，网络恢复后自动同步

### 7.2 异常场景

**网络异常场景**:
- 网络断开时自动启用离线模式
- 本地数据缓存，操作记录保存
- 网络恢复后自动同步数据
- 同步冲突时提供冲突解决机制

**设备异常场景**:
- 设备故障时数据安全保护
- 多设备登录时权限验证
- 设备丢失时远程数据擦除
- 应用崩溃时数据恢复保护

### 7.3 性能要求

**响应时间要求**:
- 页面加载时间 < 2秒
- 网络请求响应时间 < 3秒
- 离线操作响应时间 < 1秒
- 数据同步延迟 < 30秒

**离线能力要求**:
- 支持24小时离线操作
- 本地数据存储空间 > 100MB
- 离线任务记录 > 1000条
- 图片离线缓存 > 500张

**并发性能要求**:
- 支持100个外勤人员同时在��
- 支持1000个并发API请求
- 支持10000次操作/天处理量

---

## 8. 模块开发优先级

### Phase 0: UI框架架构 (P0 - 基础框架)
1. **UI框架架构设计** - Tab导航、页面布局、状态管理、离线支持

### Phase 1: 核心业务模块 (P0)
2. **工作台模块** - 主要入口，任务管理
3. **订单模块** - 核心业务，现场处理
4. **车辆模块** - 核心资产，现场管理
5. **消息模块** - 沟通工具，及时响应

### Phase 2: 支撑功能模块 (P0-P1)
6. **个人中心模块** - 账户管理，系统设置
7. **现场核验模块** - 核心能力，质量保证
8. **资料采集模块** - 标准流程，数据完整

### Phase 3: 增值功能模块 (P1-P2)
9. **调度协调模块** - 高级功能，运营优化
10. **数据分析模块** - 决策支持，管理提升
11. **培训学习模块** - 员工培训，技能提升

---

**注意**: 移动管理端的设计重点在于现场操作效率和移动化便利性，所有功能设计都应考虑现场环境和操作场景的特殊性。