# 叨叨房车移动管理端实施计划 v3.0

**文档版本**: v3.0.0 | **创建时间**: 2025-12-26 | **适用范围**: 移动管理端开发团队

---

## 📋 项目概述

**实施目标**: 基于更新后的产品需求文档和技术栈文档，重新规划移动管理端开发实施计划，聚焦移动办公场景，确保功能完整、高质量交付。

**核心定位**: 移动办公场景补充工具，聚焦现场必需功能

**技术栈**: Vue 3 + TypeScript + uni-app + **uView Plus**
**开发平台**: 微信小程序（主要）、H5、App多端兼容
**开发工具**: HBuilderX + 微信开发者工具

---

## 🎯 实施策略

### 核心原则

1. **场景优先**: 以4个核心移动场景为开发主线
2. **组件复用**: 优先使用uni-app内置组件和uView Plus组件库
3. **Mock先行**: 使用Mock数据完成页面开发，记录API需求
4. **单步执行**: 每次只执行一个步骤，完成验证测试后再继续
5. **严格测试**: 每个步骤完成后必须通过验证测试

### 开发顺序

**阶段1**: 基础架构 (1周) → **阶段2**: 核心场景 (4周) → **阶段3**: 辅助功能 (2周) → **阶段4**: 优化完善 (1周)

---

## 📐 页面架构规划

### 底部导航 (4个Tab)

```
🏠 工作台 | 📋 业务 | 💰 托管 | 👤 我的
```

### 完整页面结构

```
mobile-admin/
├── pages/
│   ├── login/                    # 登录模块
│   │   └── index.vue            # 登录页面
│   │
│   ├── dashboard/                # 工作台模块 (Tab 1)
│   │   └── index.vue            # 工作台首页
│   │
│   ├── business/                 # 业务模块 (Tab 2)
│   │   ├── index.vue            # 业务首页（订单/车辆切换）
│   │   ├── orders/              # 订单管理
│   │   │   ├── list.vue         # 订单列表
│   │   │   ├── detail.vue       # 订单详情
│   │   │   ├── pickup.vue       # 取车流程
│   │   │   └── return.vue       # 还车流程
│   │   └── vehicles/            # 车辆管理
│   │       ├── list.vue         # 车辆列表
│   │       ├── detail.vue       # 车辆详情
│   │       ├── dispatch.vue     # 车辆调度
│   │       └── maintenance.vue  # 维保记录
│   │
│   ├── hosting/                  # 托管模块 (Tab 3) - 核心场景
│   │   ├── index.vue            # 托管首页
│   │   ├── own-car/             # 自有车托管
│   │   │   ├── list.vue         # 申请列表
│   │   │   └── verify.vue       # 现场核验
│   │   ├── buy-car/             # 购车托管
│   │   │   ├── list.vue         # 申请列表
│   │   │   └── acceptance.vue   # 车辆验收
│   │   ├── crowdfunding/        # 众筹托管
│   │   │   ├── list.vue         # 众筹车辆列表
│   │   │   ├── verify.vue       # 车辆验收
│   │   │   └── monitor.vue      # 运营监控
│   │   └── self-use/            # 车主自用
│   │       ├── list.vue         # 申请列表
│   │       └── review.vue       # 审核页面
│   │
│   └── profile/                  # 我的模块 (Tab 4)
│       ├── index.vue            # 个人中心首页
│       ├── messages/            # 消息通知
│       │   ├── list.vue         # 消息列表
│       │   └── detail.vue       # 消息详情
│       ├── settings/            # 系统设置
│       │   └── index.vue        # 设置页面
│       └── help/                # 帮助中心
│           └── index.vue        # 帮助页面
│
└── components/                   # 组件目录
    ├── business/                # 业务组件（优先使用uView Plus）
    │   ├── VehicleInspection.vue    # 车辆检查组件
    │   ├── PhotoUploader.vue        # 照片上传组件
    │   ├── SignaturePad.vue         # 电子签名组件
    │   └── OCRScanner.vue           # OCR扫描组件
    └── common/                  # 通用组件（仅必需的自定义组件）
        ├── EmptyState.vue       # 空状态组件
        └── ErrorBoundary.vue    # 错误边界组件
```

---

## 🧩 组件使用规划

### 组件使用原则（严格遵守）

**优先级顺序**：
1. **🥇 uni-app内置组件** - view、text、image、button等
2. **🥈 uView Plus组件库** - 80+组件，覆盖95%场景
3. **🥉 自定义组件** - 仅在前两者无法满足时使用

### uView Plus组件映射表

| 业务场景 | 使用的uView Plus组件 | 说明 |
|---------|---------------------|------|
| **页面布局** | u-navbar, u-tabs, u-sticky | 导航栏、标签页、吸顶 |
| **数据展示** | u-card, u-cell-group, u-cell | 卡片、单元格列表 |
| **表单输入** | u-form, u-form-item, u-input | 表单验证、输入框 |
| **选择器** | u-picker, u-datetime-picker | 选择器、日期时间 |
| **图片上传** | u-upload | 图片上传（需扩展OCR） |
| **列表加载** | u-list, u-load-more | 列表、加载更多 |
| **弹窗提示** | u-modal, u-toast, u-popup | 模态框、提示、弹窗 |
| **状态显示** | u-badge, u-tag, u-loading | 徽标、标签、加载 |
| **步骤条** | u-steps, u-steps-item | 流程步骤展示 |
| **评分** | u-rate | 车辆状况评分 |

### 必需的自定义组件（仅4个）

| 组件名称 | 用途 | 原因 |
|---------|------|------|
| **VehicleInspection** | 车辆检查清单 | 业务特定，需要复杂的检查项管理 |
| **SignaturePad** | 电子签名 | uView Plus无此功能 |
| **OCRScanner** | OCR识别 | 需要集成第三方OCR服务 |
| **EmptyState** | 空状态提示 | 统一的空状态样式 |

---
## 📅 阶段一：基础架构搭建 (第1周)

### ✅ 步骤1: 项目配置和uView Plus集成（已完成）

**目标**: 完成项目基础配置，集成uView Plus组件库

**具体任务**:
1. ✅ 安装uView Plus组件库（通过npm安装 uview-plus@3.2.x）
2. ✅ 配置pages.json（4个Tab导航：工作台、业务、托管、我的）
3. ✅ 配置easycom自动引入（已配置3种引入方式）
4. ✅ 配置全局样式变量（uni.scss 已添加项目自定义变量）
5. ✅ 验证uView Plus组件可用性（测试页面已存在）

**技术要求**:
- ✅ 使用npm安装uView Plus 3.2.x
- ✅ easycom配置路径：`uview-plus/components/u-$1/u-$1.vue`
- ✅ 全局样式使用uView Plus主题变量

**验证测试**:
- [x] uView Plus组件可以正常使用
- [x] 4个Tab导航显示正常
- [x] 全局样式生效
- [ ] TypeScript类型提示正常（项目未使用TS）

**实际完成内容**:
- ✅ 通过 npm 安装 uView Plus 3.2.x
- ✅ 创建 package.json 并安装依赖
- ✅ main.js 已正确引入 uView Plus
- ✅ App.vue 已正确引入样式
- ✅ pages.json 配置4个Tab（工作台、业务、托管、我的）
- ✅ 创建业务模块主页（pages/business/index.vue）
- ✅ 创建托管模块主页（pages/hosting/index.vue）
- ✅ uni.scss 添加项目自定义样式变量
- ✅ 测试页面已存在（pages/test/uview-test.vue）

**交付物**: ✅ 完整的项目配置、uView Plus集成

**完成时间**: 2025-12-27

---

### ✅ 步骤2: API层和Mock数据架构（已完成）

**目标**: 建立统一的API调用和Mock数据体系

**具体任务**:
1. ✅ 完善request.js请求封装（已完善）
2. ✅ 创建API模块（auth、dashboard、order、vehicle、hosting）
3. ✅ 创建Mock数据目录结构（已完整）
4. ✅ 实现Token自动管理（已实现）

**API模块规划**:
```
api/
├── auth.js          # 认证API
├── dashboard.js     # 工作台API
├── order.js         # 订单API
├── vehicle.js       # 车辆API
├── hosting.js       # 托管API（新增）
└── mock/
    ├── auth.js
    ├── dashboard.js
    ├── order.js
    ├── vehicle.js
    └── hosting.js   # 托管Mock数据（新增）
```

**验证测试**:
- [x] API请求可以正常发送
- [x] Mock数据返回正确
- [x] Token自动管理正常
- [x] 错误处理机制有效

**实际完成内容**:
- ✅ request.js 已完善（包含请求/响应拦截、错误处理、Token管理）
- ✅ auth.js API（登录、登出、获取用户信息、刷新Token）
- ✅ dashboard.js API（数据概览、待办任务、今日提醒）
- ✅ order.js API（订单管理、取车流程、还车流程）
- ✅ vehicle.js API（车辆管理、维保记录、照片上传）
- ✅ hosting.js API（托管申请、审核、车辆管理）
- ✅ Mock数据完整（auth、dashboard、order、vehicle、hosting）
- ✅ Token自动管理（存储、获取、删除、过期处理）

**交付物**: ✅ 完整的API层、Mock数据架构

**完成时间**: 2025-12-27

---

## 📅 阶段二：核心模块开发 (第3-6周)

### ✅ 步骤4: 工作台模块开发（已完成）

**目标**: 实现工作台数据概览和任务管理功能

**具体任务**:
1. ✅ 开发工作台首页布局
2. ✅ 实现数据概览卡片组件
3. ✅ 开发待办任务列表组件
4. ✅ 实现快捷操作入口网格
5. ✅ 实现下拉刷新功能

**实际完成内容**:
- ✅ pages/dashboard/index.vue（451行代码）
- ✅ 数据概览卡片（4个统计卡片，使用 u-grid 组件）
- ✅ 待办任务列表（使用 u-tag、u-button、u-empty 组件）
- ✅ 快捷操作入口（4个快捷入口，使用 u-grid、u-icon 组件）
- ✅ API集成（getDashboardOverview、getTodoList）

**交付物**: ✅ 完整的工作台页面

**完成时间**: 2025-12-27

---
