# ç§»åŠ¨ç®¡ç†ç«¯ API æ–‡æ¡£

**æ–‡æ¡£ç‰ˆæœ¬**: v1.0.0 | **åˆ›å»ºæ—¶é—´**: 2025-11-29 | **ç»´æŠ¤è€…**: å¨å¨æˆ¿è½¦æŠ€æœ¯å›¢é˜Ÿ

---

## ğŸ“‹ æ–‡æ¡£è¯´æ˜

æœ¬æ–‡æ¡£è®°å½•ç§»åŠ¨ç®¡ç†ç«¯æ‰€æœ‰ API æ¥å£çš„å¼€å‘çŠ¶æ€å’Œè¯¦ç»†ä¿¡æ¯ã€‚

### API çŠ¶æ€æ ‡è¯†

- ğŸ”´ **æœªå¼€å‘** - å‰ç«¯å°šæœªå¼€å‘
- ğŸŸ¡ **å·²å¼€å‘** - å‰ç«¯å®Œæˆï¼Œä½¿ç”¨ Mock æ•°æ®
- ğŸŸ  **å¾…åç«¯å¼€å‘** - å‰ç«¯å®Œæˆï¼Œç­‰å¾…åç«¯ API
- ğŸ”µ **å¾…è”è°ƒ** - åç«¯ API å®Œæˆï¼Œå‡†å¤‡è”è°ƒ
- ğŸŸ¢ **è”è°ƒå®Œæˆ** - å‰åç«¯è”è°ƒæˆåŠŸ

---

## ğŸ“Š å¼€å‘è¿›åº¦ç»Ÿè®¡

### æ€»ä½“è¿›åº¦
- **æ€»æ¥å£æ•°**: 26
- **å·²å¼€å‘**: 26 (ğŸŸ¡)
- **æœªå¼€å‘**: 0 (ğŸ”´)
- **å®Œæˆç‡**: 100%

### æ¨¡å—è¿›åº¦
| æ¨¡å— | æ€»æ•° | å·²å¼€å‘ | æœªå¼€å‘ | å®Œæˆç‡ |
|------|------|--------|--------|--------|
| è®¤è¯ç›¸å…³ | 4 | 4 | 0 | 100% |
| å·¥ä½œå°ç›¸å…³ | 4 | 4 | 0 | 100% |
| è®¢å•ç®¡ç† | 7 | 7 | 0 | 100% |
| è½¦è¾†ç®¡ç† | 5 | 5 | 0 | 100% |
| æ¶ˆæ¯é€šçŸ¥ | 6 | 6 | 0 | 100% |
| æ–‡ä»¶ä¸Šä¼  | 2 | 2 | 0 | 100% |

---

## 1. è®¤è¯ç›¸å…³ API

### 1.1 ç”¨æˆ·ç™»å½•
- **çŠ¶æ€**: ğŸŸ¡ å·²å¼€å‘ï¼ˆä½¿ç”¨Mockï¼‰
- **æ¥å£**: `POST /api/v1/auth/login`
- **å‰ç«¯æ–‡ä»¶**: `api/auth.js`, `api/mock/auth.js`
- **Mockæ•°æ®**: æ”¯æŒ admin/123456 å’Œ staff/123456

### 1.2 ç”¨æˆ·ç™»å‡º
- **çŠ¶æ€**: ğŸŸ¡ å·²å¼€å‘ï¼ˆä½¿ç”¨Mockï¼‰
- **æ¥å£**: `POST /api/v1/auth/logout`
- **å‰ç«¯æ–‡ä»¶**: `api/auth.js`, `api/mock/auth.js`

### 1.3 è·å–ç”¨æˆ·ä¿¡æ¯
- **çŠ¶æ€**: ğŸŸ¡ å·²å¼€å‘ï¼ˆä½¿ç”¨Mockï¼‰
- **æ¥å£**: `GET /api/v1/auth/user`
- **å‰ç«¯æ–‡ä»¶**: `api/auth.js`, `api/mock/auth.js`

### 1.4 åˆ·æ–° Token
- **çŠ¶æ€**: ğŸŸ¡ å·²å¼€å‘ï¼ˆä½¿ç”¨Mockï¼‰
- **æ¥å£**: `POST /api/v1/auth/refresh`
- **å‰ç«¯æ–‡ä»¶**: `api/auth.js`, `api/mock/auth.js`

---

## 2. å·¥ä½œå°ç›¸å…³ API

### 2.1 è·å–å·¥ä½œå°æ•°æ®æ¦‚è§ˆ
- **çŠ¶æ€**: ğŸŸ¡ å·²å¼€å‘ï¼ˆä½¿ç”¨Mockï¼‰
- **æ¥å£**: `GET /api/v1/dashboard/overview`
- **å‰ç«¯æ–‡ä»¶**: `api/dashboard.js`, `api/mock/dashboard.js`
- **é¡µé¢**: `pages/dashboard/index.vue`

### 2.2 è·å–å¾…åŠä»»åŠ¡åˆ—è¡¨
- **çŠ¶æ€**: ğŸŸ¡ å·²å¼€å‘ï¼ˆä½¿ç”¨Mockï¼‰
- **æ¥å£**: `GET /api/v1/dashboard/todos`
- **å‰ç«¯æ–‡ä»¶**: `api/dashboard.js`, `api/mock/dashboard.js`
- **é¡µé¢**: `pages/dashboard/index.vue`

### 2.3 æ›´æ–°ä»»åŠ¡çŠ¶æ€
- **çŠ¶æ€**: ğŸŸ¡ å·²å¼€å‘ï¼ˆä½¿ç”¨Mockï¼‰
- **æ¥å£**: `POST /api/v1/dashboard/todos/:id/status`
- **å‰ç«¯æ–‡ä»¶**: `api/dashboard.js`, `api/mock/dashboard.js`

### 2.4 è·å–ä»Šæ—¥æé†’
- **çŠ¶æ€**: ğŸŸ¡ å·²å¼€å‘ï¼ˆä½¿ç”¨Mockï¼‰
- **æ¥å£**: `GET /api/v1/dashboard/reminders`
- **å‰ç«¯æ–‡ä»¶**: `api/dashboard.js`, `api/mock/dashboard.js`

---

## 3. è®¢å•ç®¡ç†ç›¸å…³ API

### 3.1 è·å–è®¢å•åˆ—è¡¨
- **çŠ¶æ€**: ğŸŸ¡ å·²å¼€å‘ï¼ˆä½¿ç”¨Mockï¼‰
- **æ¥å£**: `GET /api/v1/orders`
- **å‰ç«¯æ–‡ä»¶**: `api/order.js`, `api/mock/order.js`
- **é¡µé¢**: `pages/orders/index.vue`
- **æ”¯æŒç­›é€‰**: status, keyword

### 3.2 è·å–è®¢å•è¯¦æƒ…
- **çŠ¶æ€**: ğŸŸ¡ å·²å¼€å‘ï¼ˆä½¿ç”¨Mockï¼‰
- **æ¥å£**: `GET /api/v1/orders/:id`
- **å‰ç«¯æ–‡ä»¶**: `api/order.js`, `api/mock/order.js`
- **é¡µé¢**: `pages/orders/detail.vue`

### 3.3 æ›´æ–°è®¢å•çŠ¶æ€
- **çŠ¶æ€**: ğŸŸ¡ å·²å¼€å‘ï¼ˆä½¿ç”¨Mockï¼‰
- **æ¥å£**: `PUT /api/v1/orders/:id/status`
- **å‰ç«¯æ–‡ä»¶**: `api/order.js`, `api/mock/order.js`

### 3.4 ç¡®è®¤è®¢å•
- **çŠ¶æ€**: ğŸŸ¡ å·²å¼€å‘ï¼ˆä½¿ç”¨Mockï¼‰
- **æ¥å£**: `POST /api/v1/orders/:id/confirm`
- **å‰ç«¯æ–‡ä»¶**: `api/order.js`, `api/mock/order.js`
- **é¡µé¢**: `pages/orders/index.vue`

### 3.5 å–æ¶ˆè®¢å•
- **çŠ¶æ€**: ğŸŸ¡ å·²å¼€å‘ï¼ˆä½¿ç”¨Mockï¼‰
- **æ¥å£**: `POST /api/v1/orders/:id/cancel`
- **å‰ç«¯æ–‡ä»¶**: `api/order.js`, `api/mock/order.js`
- **é¡µé¢**: `pages/orders/index.vue`

### 3.6 å®Œæˆè®¢å•
- **çŠ¶æ€**: ğŸŸ¡ å·²å¼€å‘ï¼ˆä½¿ç”¨Mockï¼‰
- **æ¥å£**: `POST /api/v1/orders/:id/complete`
- **å‰ç«¯æ–‡ä»¶**: `api/order.js`, `api/mock/order.js`
- **é¡µé¢**: `pages/orders/index.vue`

### 3.7 æäº¤ç°åœºæ ¸éªŒ
- **çŠ¶æ€**: ğŸŸ¡ å·²å¼€å‘ï¼ˆä½¿ç”¨Mockï¼‰
- **æ¥å£**: `POST /api/v1/orders/:id/verification`
- **å‰ç«¯æ–‡ä»¶**: `pages/orders/verification.vue`
- **é¡µé¢**: `pages/orders/verification.vue`
- **è¯´æ˜**: æ”¯æŒå–è½¦æ ¸éªŒå’Œè¿˜è½¦æ ¸éªŒï¼ŒåŒ…å«è½¦è¾†æ£€æŸ¥ã€ç…§ç‰‡ä¸Šä¼ ã€å®¢æˆ·ç­¾åç­‰

---

## 4. è½¦è¾†ç®¡ç†ç›¸å…³ API

### 4.1 è·å–è½¦è¾†åˆ—è¡¨
- **çŠ¶æ€**: ğŸŸ¡ å·²å¼€å‘ï¼ˆä½¿ç”¨Mockï¼‰
- **æ¥å£**: `GET /api/v1/vehicles`
- **å‰ç«¯æ–‡ä»¶**: `api/vehicle.js`, `api/mock/vehicle.js`
- **é¡µé¢**: `pages/vehicles/index.vue`
- **æ”¯æŒç­›é€‰**: status, keyword

### 4.2 è·å–è½¦è¾†è¯¦æƒ…
- **çŠ¶æ€**: ğŸŸ¡ å·²å¼€å‘ï¼ˆä½¿ç”¨Mockï¼‰
- **æ¥å£**: `GET /api/v1/vehicles/:id`
- **å‰ç«¯æ–‡ä»¶**: `api/vehicle.js`, `api/mock/vehicle.js`
- **é¡µé¢**: `pages/vehicles/detail.vue`

### 4.3 æ›´æ–°è½¦è¾†çŠ¶æ€
- **çŠ¶æ€**: ğŸŸ¡ å·²å¼€å‘ï¼ˆä½¿ç”¨Mockï¼‰
- **æ¥å£**: `PUT /api/v1/vehicles/:id/status`
- **å‰ç«¯æ–‡ä»¶**: `api/vehicle.js`, `api/mock/vehicle.js`
- **é¡µé¢**: `pages/vehicles/index.vue`

### 4.4 æ·»åŠ ç»´ä¿è®°å½•
- **çŠ¶æ€**: ğŸŸ¡ å·²å¼€å‘ï¼ˆä½¿ç”¨Mockï¼‰
- **æ¥å£**: `POST /api/v1/vehicles/:id/maintenance`
- **å‰ç«¯æ–‡ä»¶**: `api/vehicle.js`, `api/mock/vehicle.js`
- **é¡µé¢**: `pages/vehicles/maintenance.vue`
- **è¯´æ˜**: æ”¯æŒå¤šç§ç»´ä¿ç±»å‹ã€ç»´ä¿é¡¹ç›®é€‰æ‹©ã€ç…§ç‰‡ä¸Šä¼ ã€ä¸‹æ¬¡ç»´ä¿æé†’è®¾ç½®

### 4.5 è·å–ç»´ä¿è®°å½•
- **çŠ¶æ€**: ğŸŸ¡ å·²å¼€å‘ï¼ˆä½¿ç”¨Mockï¼‰
- **æ¥å£**: `GET /api/v1/vehicles/:id/maintenance`
- **å‰ç«¯æ–‡ä»¶**: `api/vehicle.js`, `api/mock/vehicle.js`
- **é¡µé¢**: `pages/vehicles/detail.vue`

---

## 5. æ¶ˆæ¯é€šçŸ¥ç›¸å…³ API

### 5.1 è·å–æ¶ˆæ¯åˆ—è¡¨
- **çŠ¶æ€**: ğŸŸ¡ å·²å¼€å‘ï¼ˆä½¿ç”¨Mockï¼‰
- **æ¥å£**: `GET /api/v1/messages`
- **å‰ç«¯æ–‡ä»¶**: `api/message.js`, `api/mock/message.js`
- **é¡µé¢**: `pages/messages/index.vue`
- **æ”¯æŒç­›é€‰**: type (system/order/ticket), page, pageSize
- **è¯´æ˜**: æ”¯æŒæŒ‰ç±»å‹ç­›é€‰ã€åˆ†é¡µåŠ è½½

### 5.2 è·å–æ¶ˆæ¯è¯¦æƒ…
- **çŠ¶æ€**: ğŸŸ¡ å·²å¼€å‘ï¼ˆä½¿ç”¨Mockï¼‰
- **æ¥å£**: `GET /api/v1/messages/:id`
- **å‰ç«¯æ–‡ä»¶**: `api/message.js`, `api/mock/message.js`

### 5.3 æ ‡è®°æ¶ˆæ¯å·²è¯»
- **çŠ¶æ€**: ğŸŸ¡ å·²å¼€å‘ï¼ˆä½¿ç”¨Mockï¼‰
- **æ¥å£**: `PUT /api/v1/messages/:id/read`
- **å‰ç«¯æ–‡ä»¶**: `api/message.js`, `api/mock/message.js`

### 5.4 æ‰¹é‡æ ‡è®°æ¶ˆæ¯å·²è¯»
- **çŠ¶æ€**: ğŸŸ¡ å·²å¼€å‘ï¼ˆä½¿ç”¨Mockï¼‰
- **æ¥å£**: `PUT /api/v1/messages/read`
- **å‰ç«¯æ–‡ä»¶**: `api/message.js`, `api/mock/message.js`

### 5.5 åˆ é™¤æ¶ˆæ¯
- **çŠ¶æ€**: ğŸŸ¡ å·²å¼€å‘ï¼ˆä½¿ç”¨Mockï¼‰
- **æ¥å£**: `DELETE /api/v1/messages/:id`
- **å‰ç«¯æ–‡ä»¶**: `api/message.js`, `api/mock/message.js`

### 5.6 è·å–æœªè¯»æ¶ˆæ¯æ•°é‡
- **çŠ¶æ€**: ğŸŸ¡ å·²å¼€å‘ï¼ˆä½¿ç”¨Mockï¼‰
- **æ¥å£**: `GET /api/v1/messages/unread-count`
- **å‰ç«¯æ–‡ä»¶**: `api/message.js`, `api/mock/message.js`
- **è¯´æ˜**: è¿”å›å„ç±»å‹æ¶ˆæ¯çš„æœªè¯»æ•°é‡

---

## 6. æ–‡ä»¶ä¸Šä¼ ç›¸å…³ API

### 6.1 ä¸Šä¼ å›¾ç‰‡
- **çŠ¶æ€**: ğŸŸ¡ å·²å¼€å‘ï¼ˆä½¿ç”¨Mockï¼‰
- **æ¥å£**: `POST /api/v1/upload/image`
- **å‰ç«¯æ–‡ä»¶**: `utils/upload.js`, `components/common/ImageUploader.vue`
- **è¯´æ˜**: æ”¯æŒå›¾ç‰‡é€‰æ‹©ã€å‹ç¼©ã€ä¸Šä¼ è¿›åº¦æ˜¾ç¤ºã€æ‰¹é‡ä¸Šä¼ 

### 6.2 ä¸Šä¼ æ–‡ä»¶
- **çŠ¶æ€**: ğŸŸ¡ å·²å¼€å‘ï¼ˆä½¿ç”¨Mockï¼‰
- **æ¥å£**: `POST /api/v1/upload/file`
- **å‰ç«¯æ–‡ä»¶**: `utils/upload.js`
- **è¯´æ˜**: é€šç”¨æ–‡ä»¶ä¸Šä¼ åŠŸèƒ½ï¼Œæ”¯æŒè¿›åº¦å›è°ƒ

---

## ğŸ“ å¼€å‘è¯´æ˜

### Mock æ•°æ®ä½¿ç”¨
æ‰€æœ‰å·²å¼€å‘çš„ API éƒ½ä½¿ç”¨ Mock æ•°æ®ï¼ŒMock æ–‡ä»¶ä½äº `api/mock/` ç›®å½•ä¸‹ï¼š
- `api/mock/auth.js` - è®¤è¯ç›¸å…³ Mock
- `api/mock/dashboard.js` - å·¥ä½œå°ç›¸å…³ Mock
- `api/mock/order.js` - è®¢å•ç›¸å…³ Mock
- `api/mock/vehicle.js` - è½¦è¾†ç›¸å…³ Mock

### åˆ‡æ¢åˆ°çœŸå® API
åœ¨å„ API æ–‡ä»¶ä¸­ï¼Œå°† `USE_MOCK` å¸¸é‡è®¾ç½®ä¸º `false` å³å¯åˆ‡æ¢åˆ°çœŸå®åç«¯ APIï¼š
```javascript
// api/order.js
const USE_MOCK = false  // æ”¹ä¸º false ä½¿ç”¨çœŸå® API
```

### åç«¯å¯¹æ¥å‡†å¤‡
1. ç¡®è®¤åç«¯ API åœ°å€
2. æ›´æ–° `utils/request.js` ä¸­çš„ `baseURL`
3. å°†å„ API æ–‡ä»¶çš„ `USE_MOCK` è®¾ç½®ä¸º `false`
4. è¿›è¡Œè”è°ƒæµ‹è¯•

---

**æœ€åæ›´æ–°**: 2025-11-29
**æ–‡æ¡£ç‰ˆæœ¬**: v1.0.0
**ç»´æŠ¤è€…**: å¨å¨æˆ¿è½¦æŠ€æœ¯å›¢é˜Ÿ
