# 叨叨房车移动管理端功能需求文档

**文档版本**: v1.1.0 | **创建时间**: 2025-11-26 | **维护者**: 叨叨房车技术团队

**文档类型**: 移动管理端功能需求文档
**适用对象**: 产品经理、开发人员、测试人员、运维人员

---

## 📋 文档说明

本文档专注于移动管理端的核心业务功能需求，面向现场管理人员和管理员，提供便捷的移动端管理工具。

- ✅ 现场业务管理功能
- ✅ 实时数据监控功能
- ✅ 快捷操作处理功能
- ✅ 移动端适配优化

### ⚠️ 重要：前端独立开发模式

**本项目采用前端独立开发，后端逐一对接的开发模式**

#### 开发阶段说明

**阶段一：前端独立开发（当前阶段）**
- ✅ 使用 Mock 数据完成所有页面和功能
- ✅ 不依赖后端服务，不启动 backend 项目
- ✅ 专注于 UI/UX 实现和前端交互逻辑
- ✅ 在 `docs/移动管理端API.md` 中记录所有 API 需求和状态

**阶段二：后端对接（未来）**
- 🔄 前端开发完成后，再启动后端服务
- 🔄 逐个接口进行联调测试
- 🔄 切换 Mock 数据为真实 API 调用

#### 开发规范

**必须遵守：**
1. 📖 开发前阅读本文档和 `移动管理端技术栈文档.md`
2. 📝 每完成一个功能模块，更新 `移动管理端实施计划.md`
3. 📊 在 `移动管理端API.md` 中记录 API 状态：
   - 🔴 未开发
   - 🟡 已开发（使用Mock）
   - 🟠 待后端开发
   - 🔵 待联调
   - 🟢 联调完成

**禁止操作：**
- ❌ 不要启动后端服务
- ❌ 不要修改 manifest.json 的后端地址配置
- ❌ 不要等待后端 API 开发
- ❌ 不要直接调用未开发的后端接口

**uni-app 开发注意：**
- 📱 使用 HBuilderX 打开项目
- 🔧 运行到浏览器或手机模拟器进行调试
- 📦 Mock 数据放在 `api/mock/` 目录下
- 🎨 遵循 uni-app 组件规范和生命周期
- 📐 适配移动端屏幕尺寸和触摸交互

---

## 📋 目录

1. [产品概述](#1-产品概述)
2. [页面结构与信息架构](#2-页面结构与信息架构)
3. [核心功能需求](#3-核心功能需求)
4. [业务流程需求](#4-业务流程需求)
5. [交互体验需求](#5-交互体验需求)
6. [业务规则要求](#6-业务规则要求)
7. [验收标准](#7-验收标准)

---

## 1. 产品概述

### 1.1 产品定位

叨叨房车移动管理端是专为现场管理人员设计的移动端管理工具，支持订单处理、车辆管理、用户服务等核心业务功能的移动化操作。

### 1.2 核心目标

- **提高现场效率**: 支持现场快速处理订单和车辆管理
- **实时数据同步**: 确保移动端与后端数据实时同步
- **简化操作流程**: 适配移动端特性，简化复杂操作
- **权限安全控制**: 确保移动端操作的安全性和可控性

### 1.3 目标用户

| 用户角色 | 使用场景 | 核心需求 |
|----------|----------|----------|
| **门店经理** | 门店现场管理 | 快速处理订单、车辆状态更新 |
| **门店员工** | 外勤服务人员 | 现场车辆检查、客户服务 |
| **客服人员** | 客户服务支持 | 查看订单信息、处理客户问题 |
| **调度人员** | 车辆调度管理 | 实时查看车辆状态、调度车辆 |

---

## 2. 页面结构与信息架构

### 2.1 底部导航设计

移动管理端底部导航采用五个Tab结构：

| Tab图标 | Tab名称 | 功能定位 | 包含的核心功能 |
|---------|---------|----------|----------------|
| 🏠 | **工作台** | 数据概览与任务管理 | 数据概览、待办任务、快捷操作、今日提醒 |
| 📋 | **订单** | 订单工作台处理 | 订单列表、详情处理、状态跟踪、异常处理 |
| 🚗 | **车辆** | 车辆状态与维保管理 | 车辆状态查看、维保处理、调度管理、清洁管理 |
| 💬 | **消息** | 客服响应与沟通 | 客服沟通、工单处理、系统通知、紧急提醒 |
| 👤 | **我的** | 个人信息与系统设置 | 个人信息、系统设置、帮助中心、数据同步 |

### 2.2 页面层级架构

**四级页面结构设计**：

```
Level 1: 底部导航层 (Tabbar)
├── 工作台 (Dashboard)
├── 订单 (Orders)
├── 车辆 (Vehicles)
├── 消息 (Messages)
└── 我的 (Profile)

Level 2: 列表与状态层
├── 待办任务列表
├── 订单状态列表
├── 车辆状态列表
├── 工单消息列表
└── 个人设置列表

Level 3: 详情与操作层
├── 任务详情页面
├── 订单详情页面
├── 车辆详情页面
├── 工单详情页面
└── 设置详情页面

Level 4: 表单与上传层
├── 任务完成表单
├── 订单处理表单
├── 车辆检查表单
├── 照片上传界面
└── 签名确认界面
```

### 2.3 移动端特性设计

**现场操作优化**:
- 大按钮设计，便于单手操作
- 清晰的操作流程指引
- 离线数据缓存，支持无网操作
- 语音输入支持，减少手动输入
- 照片拍照集成，现场资料采集

**数据同步策略**:
- 实时同步关键数据（订单状态、紧急消息）
- 延迟同步统计数据（报表、分析）
- 离线存储本地操作数据
- 网络恢复后自动同步

---

## 3. 核心功能需求

### 3.1 工作台模块

**核心功能**：
- **数据概览**: 实时业务数据展示（今日订单、活跃用户、收入统计）
- **待办任务**: 任务管理、任务提醒、任务跟踪
- **快捷操作**: 常用功能快速入口
- **今日提醒**: 今日重要事项、预约提醒

**移动端特性**：
- 大按钮设计，适合触摸操作
- 重要数据突出显示
- 快速滑动切换功能模块
- 下拉刷新数据

### 3.2 订单管理模块

**核心功能**：
- **订单处理**: 订单列表、详情查看、状态更新
- **状态跟踪**: 订单状态实时跟踪、变更提醒
- **异常处理**: 订单异常处理、问题上报
- **客户联系**: 客户信息查看、联系记录
- **现场核验**: 现场拍照、资料上传、确认记录

**移动端优化**：
- 订单卡片式展示，信息层次清晰
- 快速状态切换按钮
- 滑动操作支持（左滑显示操作菜单）
- 离线订单状态缓存

### 3.3 车辆管理模块

**核心功能**：
- **车辆状态**: 车辆位置、状态、使用情况查看
- **维保管理**: 维保计划、维保记录、维保提醒
- **调度管理**: 车辆调度协调、任务分配
- **清洁管理**: 清洁任务、清洁记录、质量检查
- **检查记录**: 车辆检查表、检查记录、问题上报

**移动端特性**：
- 车辆照片快速上传
- GPS位置定位集成
- 扫码识别车辆信息
- 语音备注功能

### 3.4 消息通知模块

**核心功能**：
- **客服沟通**: 在线沟通、语音通话、视频通话
- **工单管理**: 工单创建、分配、处理、关闭
- **系统通知**: 系统消息、订单提醒、任务提醒
- **紧急提醒**: 危急通知、异常情况通知

**移动端特性**：
- 本地推送通知
- 消息声音和振动提醒
- 离线消息缓存
- 消息优先级显示

### 3.5 个人中心模块

**核心功能**：
- **个人信息**: 头像、姓名、职位、联系方式管理
- **系统设置**: 通知设置、权限设置、数据同步
- **数据同步**: 数据同步状态、同步配置、离线数据
- **帮助中心**: 使用指南、常见问题、联系支持

**移动端适配**：
- 个人信息分页展示
- 快捷拨号功能
- 用户头像缓存优化
- 敏感信息自动脱敏

### 3.6 托管车辆管理模块

**核心功能**：
- **托管申请审核**: 自有车托管申请、购车托管申请审核处理
- **托管车辆管理**: 托管车辆列表、状态管理、收益查看
- **车主自用审核**: 车主自用申请审核、时间冲突检查
- **收益管理**: 托管收益统计、收益明细、提现审核

**审核功能**：
- **自有车托管审核**:
  - 查看车辆信息和照片（至少12张）
  - 核验行驶证信息
  - 评估车辆状况和托管资格
  - 审核通过/拒绝，填写审核意见
  - 线下签署协议提醒

- **购车托管审核**:
  - 查看申请人资质信息
  - 核验身份证、收入证明
  - 评估信用状况和还款能力
  - 审核通过/拒绝，填写审核意见
  - 协助购车流程跟进

- **车主自用审核**:
  - 查看自用申请详情
  - 检查车辆当前状态和位置
  - 核对取还车时间和门店
  - 计算服务费和异地还车费
  - 审核通过/拒绝

**移动端特性**：
- 照片查看器支持缩放和滑动
- 快速审核操作（通过/拒绝）
- 审核意见语音输入
- 离线审核记录缓存
- 扫码识别车辆和证件信息

---

## 4. 业务流程需求

### 4.1 订单处理流程

**现场订单处理**：
1. **接收订单通知**: 移动端推送新订单提醒
2. **查看订单详情**: 快速查看订单关键信息
3. **确认订单状态**: 更新订单为"已确认"或"已取消"
4. **安排车辆**: 分配可用车辆给订单
5. **记录操作**: 记录处理时间和操作人员
6. **通知用户**: 向用户发送订单状态更新通知

**关键规则**：
- 订单状态更新需要实时同步到后端
- 重要操作需要二次确认
- 异常订单需要标记并上报
- 操作记录需要保存审计日志

### 4.2 车辆管理流程

**车辆状态管理**：
1. **查看车辆列表**: 按状态和门店筛选车辆
2. **更新车辆状态**: 可用、租用中、维护中、禁用
3. **记录维护信息**: 维护原因、预计完成时间
4. **上传车辆照片**: 车辆状况照片和证件照片
5. **设置车辆位置**: 更新车辆实际位置信息

**关键规则**：
- 车辆状态变更需要记录操作日志
- 维护状态需要设置预计完成时间
- 车辆照片需要压缩和格式验证
- 位置信息需要权限验证

### 4.3 现场核验流程

**标准化现场核验**：
1. **选择核验模板**: 根据业务类型选择检查模板
2. **按项检查**: 按照检查项目逐项核实
3. **拍照记录**: 对关键环节拍照存证
4. **填写表单**: 结构化表单填写核验结果
5. **电子签名**: 相关人员签名确认
6. **资料上传**: 所有核验资料上传至系统

**关键规则**：
- 检查项目必须全部完成才能提交
- 照片需要包含时间戳和地理位置
- 电子签名需要身份验证
- 资料上传需要网络质量检查

### 4.4 取车流程（Pick-up Process）

**标准化取车流程**：
1. **订单确认**: 扫描订单二维码或输入订单号，核对客户信息
2. **证件验证**: 拍照上传驾驶证、身份证，系统自动OCR识别
3. **车辆检查**: 按照检查清单逐项检查车辆状态
   - 外观检查（车身划痕、凹陷、漆面）
   - 内饰检查（座椅、仪表盘、设备完整性）
   - 功能检查（灯光、空调、音响、导航）
   - 油量检查（记录当前油量）
   - 里程检查（记录当前里程数）
4. **拍照存证**: 车辆全方位拍照记录
   - 车辆外观（前、后、左、右四个角度）
   - 车辆内饰（驾驶舱、乘客区、储物区）
   - 仪表盘（显示油量和里程）
   - 特殊部位（已有划痕、损坏等）
5. **合同签署**: 客户阅读并电子签名确认租赁协议
6. **押金确认**: 确认押金支付状态（已支付/待支付）
7. **钥匙交接**: 记录钥匙交接时间和交接人员
8. **使用说明**: 向客户说明车辆使用注意事项
9. **完成取车**: 更新订单状态为"进行中"，发送取车成功通知

**关键规则**：
- 证件必须清晰可识别，系统自动OCR识别并验证
- 车辆照片必须包含时间戳和GPS位置信息
- 押金未支付不允许完成取车流程
- 所有检查项必须完成才能提交
- 客户签名必须真实有效
- 取车完成后自动发送短信/推送通知给客户

**异常处理**：
- 证件不清晰：提示重新拍照
- 车辆状态异常：标记问题并上报，暂停取车
- 押金未到账：联系财务确认或要求客户重新支付
- 客户信息不符：核实身份，必要时拒绝取车

### 4.5 还车流程（Return Process）

**标准化还车流程**：
1. **车辆接收**: 扫描订单二维码或输入订单号，确认还车信息
2. **车辆检查**: 对比取车时照片，全面检查车辆状态
   - 外观检查（对比取车照片，查找新增损坏）
   - 内饰检查（清洁度、设备完整性）
   - 功能检查（所有功能是否正常）
   - 油量检查（对比取车时油量）
   - 里程检查（记录还车里程数）
3. **拍照记录**: 还车时车辆状态全方位拍照
   - 车辆外观（前、后、左、右四个角度）
   - 车辆内饰（驾驶舱、乘客区、储物区）
   - 仪表盘（显示油量和里程）
   - 新增损坏部位（特写拍照）
4. **损坏评估**: 如发现新增损坏，记录详细信息
   - 损坏类型（划痕、凹陷、破损等）
   - 损坏位置（精确描述）
   - 损坏程度（轻微、中度、严重）
   - 预估维修费用
5. **里程核对**: 计算实际行驶里程，判断是否超出套餐
6. **油量检查**: 检查油量是否符合要求，计算补油费用
7. **费用结算**: 计算总费用并向客户展示
   - 基础租金（已支付）
   - 超时费用（如有）
   - 超里程费用（如有）
   - 补油费用（如有）
   - 损坏赔偿费用（如有）
   - 其他费用（如有）
8. **客户确认**: 客户确认费用明细并签字
9. **押金处理**: 根据费用结算结果处理押金
   - 无额外费用：全额退还押金
   - 有额外费用：从押金中扣除，退还余额
   - 费用超过押金：客户补交差额
10. **钥匙回收**: 确认钥匙完整回收（主钥匙、备用钥匙）
11. **完成还车**: 更新订单状态为"已完成"，发送还车成功通知

**关键规则**：
- 还车照片必须与取车照片对比展示
- 车辆损坏需要详细记录并拍照存证
- 费用结算需要客户确认签字
- 押金退还需要财务审核（超过一定金额）
- 所有检查项必须完成才能提交
- 钥匙必须完整回收才能完成还车
- 还车完成后自动发送短信/推送通知给客户

**异常处理**：
- 车辆严重损坏：拍照记录，通知保险公司，暂停还车流程
- 客户拒绝赔偿：记录情况，上报管理层处理
- 钥匙丢失：按规定收取钥匙赔偿费用
- 车辆未清洁：收取清洁费用或要求客户清洁后再还车
- 超时严重：计算超时费用，必要时联系客户说明

### 4.6 托管车辆审核流程

**自有车托管审核流程**：
1. **接收申请**: 系统推送新的自有车托管申请通知
2. **查看申请详情**: 查看车辆信息、车主信息、上传照片
3. **核验行驶证**: 检查行驶证信息的真实性和有效性
4. **查看车辆照片**: 浏览至少12张车辆照片（外观、内饰、细节）
   - 外观照片：车辆前、后、左、右四个角度
   - 内饰照片：驾驶舱、乘客区、储物区
   - 细节照片：仪表盘、轮胎、发动机舱等
5. **评估车辆状况**: 根据照片评估车辆年限、里程、外观状况
6. **检查托管资格**:
   - 车龄是否≤8年
   - 是否有重大事故记录
   - 手续是否齐全
7. **填写审核意见**: 记录审核结果和具体意见
8. **审核决策**: 选择通过或拒绝
   - 通过：系统自动通知车主，提醒线下签署协议
   - 拒绝：填写拒绝原因，系统通知车主
9. **后续跟进**: 审核通过后，跟进线下签约和车辆交付

**购车托管审核流程**：
1. **接收申请**: 系统推送新的购车托管申请通知
2. **查看申请详情**: 查看申请人信息、选择车型、分期方案
3. **核验身份信息**: 检查身份证、联系方式的真实性
4. **评估资质条件**:
   - 年龄是否≥22周岁
   - 信用记录是否良好
   - 收入证明是否充足
5. **审核分期能力**: 根据收入和分期期数评估还款能力
6. **填写审核意见**: 记录审核结果和具体意见
7. **审核决策**: 选择通过或拒绝
   - 通过：系统通知申请人，启动购车流程
   - 拒绝：填写拒绝原因，系统通知申请人
8. **购车跟进**: 审核通过后，协助申请人完成购车和托管手续

**关键规则**：
- 自有车托管审核必须在1-3个工作日内完成
- 购车托管审核必须在3-5个工作日内完成
- 审核意见必须详细记录，便于后续追溯
- 重要决策需要上级审批（如大额托管）
- 审核结果自动通知申请人
- 审核记录永久保存

**异常处理**：
- 照片不清晰：要求车主重新上传
- 信息不完整：联系车主补充资料
- 资质不符：拒绝申请并说明原因
- 疑似欺诈：标记风险并上报

### 4.7 车主自用审核流程

**车主自用审核流程**：
1. **接收申请**: 系统推送车主自用申请通知
2. **查看申请详情**: 查看车辆信息、取还车时间、门店选择
3. **检查车辆状态**:
   - 车辆当前状态（是否可用）
   - 车辆当前位置（是否在指定门店）
   - 车辆维保状态（是否需要维保）
4. **检查时间冲突**:
   - 是否与现有订单冲突
   - 是否与维保计划冲突
   - 取还车时间是否合理
5. **计算费用**:
   - 服务费：200-500元/次
   - 异地还车费：根据距离计算（可享受1次/月减免）
   - 附加服务费：根据选择的附加服务计算
6. **填写审核意见**: 记录审核结果和费用明细
7. **审核决策**: 选择通过或拒绝
   - 通过：系统通知车主，预留车辆
   - 拒绝：填写拒绝原因，系统通知车主
8. **车辆预留**: 审核通过后，系统自动预留车辆，避免冲突

**关键规则**：
- 审核必须在1个工作日内完成
- 车辆状态必须为"可用"才能通过
- 时间冲突必须拒绝申请
- 费用计算必须准确透明
- 审核通过后车辆自动预留

**异常处理**：
- 车辆不可用：拒绝申请，建议其他时间
- 时间冲突：拒绝申请，提供可用时间段
- 车辆维保中：拒绝申请，告知预计完成时间
- 费用争议：联系车主沟通协商

---

## 5. 交互体验需求

### 5.1 移动端界面适配

**屏幕适配**：
- 支持主流手机屏幕尺寸（375px - 414px宽度）
- 响应式布局设计
- 横竖屏切换支持
- 深色模式适配

**交互优化**：
- 大按钮设计（最小44px点击区域）
- 手势操作支持（滑动、长按）
- 快捷键操作
- 语音输入支持

### 5.2 性能优化需求

**加载优化**：
- 首屏加载时间 < 3秒
- 图片懒加载和压缩
- 数据分页加载
- 本地缓存策略

**网络优化**：
- 离线数据访问
- 网络状态检测
- 请求失败重试机制
- 数据压缩传输

### 5.3 用户体验需求

**操作便捷**：
- 常用功能一键直达
- 扫码快速识别
- 语音操作支持
- 历史操作记录

**反馈机制**：
- 操作结果即时反馈
- 加载状态提示
- 错误信息友好显示
- 操作确认对话框

---

## 6. 业务规则要求

### 6.1 用户角色与权限

**角色定义**：

| 角色 | 权限等级 | 描述 |
|------|----------|------|
| **超级管理员** | L5 | 拥有所有功能权限 |
| **区域经理** | L4 | 管理指定区域的所有业务 |
| **门店经理** | L3 | 管理指定门店的业务 |
| **现场管理员** | L2 | 处理现场具体业务操作 |
| **客服人员** | L1 | 查看和处理客户相关信息 |

**权限矩阵**：

| 功能模块 | 超级管理员 | 区域经理 | 门店经理 | 现场管理员 | 客服人员 |
|----------|------------|----------|----------|------------|----------|
| **数据概览** | 查看 | 查看 | 查看 | 查看 | 查看 |
| **用户管理** | 增删改查 | 查看 | 查看 | 查看 | 查看 |
| **订单管理** | 增删改查 | 增删改查 | 增删改查 | 增删改查 | 查看 |
| **车辆管理** | 增删改查 | 查看 | 增删改查 | 增删改查 | 查看 |
| **财务管理** | 查看 | 查看 | 查看 | 无权 | 无权 |
| **系统设置** | 增删改查 | 无权 | 无权 | 无权 | 无权 |

### 6.2 安全与权限要求

**身份认证**：
- 手机号 + 密码登录
- 生物识别支持（指纹、面容）
- 登录设备管理
- 异常登录检测

**权限控制**：
- 基于角色的功能访问控制
- 数据权限范围控制
- 敏感操作二次验证
- 操作审计日志记录

### 6.3 数据安全要求

**数据传输安全**：
- 敏感数据脱敏显示
- 数据传输加密
- 本地数据加密存储
- 数据访问权限验证

**操作安全**：
- 重要操作二次确认
- 批量操作限制
- 操作频率控制
- 风险操作警告

---

## 7. 验收标准

### 7.1 功能验收

**核心功能**：
- ✅ 用户登录和权限验证正常
- ✅ 工作台数据概览准确显示
- ✅ 订单管理功能完整可用
- ✅ 车辆管理功能完整可用
- ✅ 消息沟通功能正常可用
- ✅ 个人中心管理功能完整

**移动端特性**：
- ✅ 移动端界面适配完善
- ✅ 触摸操作响应准确
- ✅ 离线功能正常可用
- ✅ 推送通知及时准确
- ✅ 现场核验流程顺畅

### 7.2 性能验收

**响应性能**：
- ✅ 首屏加载时间 < 3秒
- ✅ 页面切换流畅无卡顿
- ✅ 数据刷新及时准确
- ✅ 网络异常处理完善

**稳定性**：
- ✅ 连续使用2小时无崩溃
- ✅ 内存使用稳定无泄漏
- ✅ 电池消耗在合理范围
- ✅ 网络断线重连正常

### 7.3 安全验收

**身份认证**：
- ✅ 登录安全机制有效
- ✅ 权限控制准确无误
- ✅ 敏感操作需要验证
- ✅ 操作日志完整记录

**数据安全**：
- ✅ 数据传输加密
- ✅ 本地数据安全存储
- ✅ 敏感信息脱敏显示
- ✅ 数据访问权限验证

### 7.4 用户体验验收

**界面体验**：
- ✅ 界面美观易用
- ✅ 操作流程简单直观
- ✅ 错误提示友好明确
- ✅ 帮助信息完整准确

**功能体验**：
- ✅ 快捷操作便捷高效
- ✅ 数据展示清晰明了
- ✅ 搜索筛选功能完善
- ✅ 批量操作支持良好

---

**文档维护**: 叨叨房车技术团队
**最后更新**: 2025-11-30
**版本**: v1.2.0
**更新内容**: 补充取还车流程（4.4、4.5），移除照片对比功能
**下次审核**: 2025-12-26