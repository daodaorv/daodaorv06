[根目录](../../CLAUDE.md) > **shared**

# Shared 模块文档

## 📋 模块概述

Shared模块是叨叨房车租赁管理平台的共享资源模块，主要包含数据库设计文档、数据字典、API规范文档等共享文档资源。

## 🏗️ 模块结构

### 文档类型
- **数据库设计**: 完整的数据库结构和关系设计
- **数据字典**: 字段定义和枚举值说明
- **API文档**: 统一的API接口规范文档
- **架构文档**: 系统架构和技术选型文档

### 开发状态
- **整体完成度**: 90%
- **数据库设计**: ✅ 完成
- **数据字典**: ✅ 完成
- **API文档**: 🔄 部分完成
- **架构文档**: 🔄 开发中

## 📁 目录结构

```
shared/
├── docs/                  # 文档目录
│   ├── database/          # 数据库相关文档
│   │   ├── 数据库设计.md   # 完整数据库设计
│   │   └── 数据字典.md     # 字段定义说明
│   ├── api/               # API接口文档
│   │   ├── README.md       # API文档索引
│   │   ├── endpoints/      # 接口详细说明
│   │   ├── 状态码规范.md   # HTTP状态码规范
│   │   └── 响应格式.md     # 统一响应格式
│   ├── architecture/      # 架构设计文档
│   │   ├── 技术栈与架构设计.md
│   │   ├── 前后端分离架构.md
│   │   └── 系统架构图.md
│   └── assets/            # 文档资源
│       ├── images/        # 图片资源
│       └── diagrams/      # 架构图和流程图
└── tools/                 # 工具和脚本
    ├── docker/            # Docker配置
    ├── scripts/           # 自动化脚本
    └── mock-data/         # 测试数据
```

## 🗄️ 数据库设计文档

### 核心业务表设计
1. **用户相关表**
   - `users` - 用户基础信息
   - `user_profiles` - 用户档案信息
   - `user_login_logs` - 用户登录日志
   - `verification_codes` - 验证码记录

2. **车辆相关表**
   - `vehicle_brands` - 车辆品牌
   - `vehicle_models` - 车辆型号
   - `vehicles` - 车辆信息

3. **门店相关表**
   - `stores` - 门店信息
   - `store_users` - 门店用户关联

4. **订单相关表**
   - `orders` - 订单信息
   - `order_status_logs` - 订单状态日志

5. **支付相关表**
   - `payments` - 支付记录
   - `user_coupons` - 用户优惠券

6. **营销相关表**
   - `coupons` - 优惠券
   - `ratings` - 评价管理
   - `favorites` - 收藏管理

7. **系统管理表**
   - `roles` - 角色管理
   - `user_roles` - 用户角色关联
   - `system_configs` - 系统配置
   - `operation_logs` - 操作日志

### 数据库配置
- **数据库**: MySQL 8.0.35
- **字符集**: utf8mb4
- **排序规则**: utf8mb4_unicode_ci
- **时区**: +08:00
- **存储引擎**: InnoDB

## 📖 数据字典

### 字段规范
- **命名规范**: 小写，下划线分隔
- **主键**: 统一使用 `id` 自增主键
- **时间戳**: `created_at`, `updated_at` 标准字段
- **外键**: `表名_id` 格式
- **状态字段**: 枚举类型定义

### 枚举值定义
- **用户状态**: active, inactive, banned
- **车辆状态**: available, rented, maintenance, unavailable
- **订单状态**: pending, paid, confirmed, ready, in_use, completed, cancelled, refunded
- **支付状态**: unpaid, partial, paid, refunded
- **优惠券类型**: discount, cash, percentage

## 🔗 API接口规范

### RESTful API设计
- **版本控制**: `/api/v1/` 版本前缀
- **资源命名**: 名词复数形式
- **HTTP方法**: 标准RESTful方法
- **状态码**: 标准HTTP状态码

### 响应格式标准
```json
// 成功响应
{
  "success": true,
  "data": {...},
  "message": "操作成功"
}

// 错误响应
{
  "success": false,
  "error": {
    "code": "VALIDATION_ERROR",
    "message": "验证失败",
    "details": [...]
  }
}
```

### 接口分类
- **认证接口**: 注册、登录、验证码
- **用户接口**: 用户信息、档案管理
- **车辆接口**: 车辆CRUD、搜索筛选
- **订单接口**: 订单流程、状态管理
- **支付接口**: 支付处理、退款管理
- **管理接口**: 管理员专用接口
- **DIY接口**: 页面编辑、模板管理

## 🏗️ 系统架构设计

### 整体架构
- **前端**: 多端应用 (PC管理端、小程序端、移动管理端)
- **后端**: Node.js + Express RESTful API
- **数据库**: MySQL + Redis
- **部署**: Docker容器化部署

### 技术栈选型
- **后端框架**: Express.js (稳定性好、生态丰富)
- **前端框架**: Vue 3 (组合式API、性能优秀)
- **移动端**: uni-app 3 (跨平台、开发效率高)
- **数据库**: MySQL (关系型数据、事务支持)
- **缓存**: Redis (高性能、数据结构丰富)

### 安全架构
- **身份认证**: JWT Token + Refresh Token
- **权限控制**: RBAC角色权限模型
- **数据加密**: HTTPS传输 + 数据库加密
- **防护措施**: 请求限流、参数验证、SQL注入防护

## 📋 文档维护规范

### 文档版本控制
- **版本号**: 语义化版本号 (v1.0.0)
- **更新时间**: 每次更新记录时间戳
- **维护者**: 指定文档维护人员
- **审核周期**: 定期审核更新

### 文档编写规范
- **标题层次**: 使用Markdown标题层次
- **代码示例**: 提供完整可运行的代码示例
- **图片资源**: 使用相对路径引用图片
- **链接引用**: 使用相对路径链接其他文档

### 文档目录结构
```
docs/
├── 01-项目概述/            # 项目整体介绍
├── 02-技术架构/            # 技术架构设计
├── 03-开发指南/            # 开发规范和指南
├── 04-API文档/             # API接口文档
├── 05-数据库设计/          # 数据库设计文档
└── 06-部署运维/            # 部署和运维文档
```

## 🔧 工具和脚本

### Docker配置
```yaml
# docker-compose.yml
version: '3.8'
services:
  mysql:
    image: mysql:8.0.35
    environment:
      MYSQL_DATABASE: daodao
      MYSQL_USER: daodao_dev
      MYSQL_PASSWORD: daodao_dev_2024
    ports:
      - "3306:3306"

  redis:
    image: redis:7.2.3
    ports:
      - "6379:6379"
```

### 测试数据生成
- **用户数据**: 模拟用户基础信息
- **车辆数据**: 模拟车辆品牌、型号、车辆信息
- **订单数据**: 模拟订单流程数据
- **配置数据**: 系统配置和初始化数据

## 📊 数据统计分析

### 数据监控指标
- **用户数据**: 用户增长、活跃度、留存率
- **业务数据**: 订单量、成交金额、转化率
- **系统数据**: 接口性能、错误率、响应时间
- **设备数据**: 设备类型、系统版本、网络状况

### 报表模板
- **日报**: 当日关键业务指标
- **周报**: 一周业务趋势分析
- **月报**: 月度业务总结报告
- **年报**: 年度业务回顾和规划

## 🔍 文档索引

### 按功能模块分类
- **用户管理**: 用户注册、登录、权限管理
- **车辆管理**: 车辆信息、状态管理、维护记录
- **订单管理**: 订单流程、状态跟踪、统计分析
- **支付管理**: 支付流程、退款处理、财务管理
- **营销管理**: 优惠券、活动、评价管理
- **系统管理**: 配置管理、日志记录、权限控制

### 按用户角色分类
- **开发者**: API文档、数据库设计、开发规范
- **测试人员**: 测试用例、测试数据、测试流程
- **运维人员**: 部署文档、监控配置、故障处理
- **产品人员**: 产品需求、功能说明、用户手册

## 📝 更新记录

### 最新更新 (v1.0.0)
- ✅ 完成数据库设计文档
- ✅ 完成数据字典文档
- ✅ 建立API文档框架
- ✅ 搭建文档目录结构

### 计划更新 (v1.1.0)
- 🔄 补充API接口详细文档
- 🔄 添加系统架构图
- 🔄 完善部署运维文档
- 🔄 添加测试用例文档

## 🔗 相关链接

- [后端API文档](../backend/CLAUDE.md)
- [PC管理端文档](../admin-console/CLAUDE.md)
- [小程序端文档](../miniprogram/CLAUDE.md)
- [移动管理端文档](../mobile-admin/CLAUDE.md)
- [根目录配置文档](../../CLAUDE.md)

## 📞 技术支持

### 文档访问
- **在线访问**: 项目仓库直接访问
- **本地访问**: Git clone到本地
- **搜索功能**: 使用文档搜索功能
- **版本历史**: Git版本控制历史

### 贡献指南
- **文档修正**: 提交Issue或Pull Request
- **内容补充**: 遵循文档编写规范
- **格式统一**: 使用Markdown格式
- **图片资源**: 使用相对路径引用

---

**模块维护者**: 技术文档团队
**最后更新**: 2025-11-26 22:15
**下次审核**: 2025-12-03