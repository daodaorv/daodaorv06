# 叨叨房车管理后台 - 快速开始指南

## 📋 前置条件

1. ✅ 后端服务已启动 (http://localhost:3000)
2. ✅ MySQL 数据库已运行
3. ✅ Redis 已运行
4. ✅ Node.js >= 18.18.0

## 🔧 启动步骤

### 1. 安装依赖（首次运行）
```bash
cd admin-console
npm install
```

### 2. 启动开发服务器
```bash
npm run dev
```

服务将运行在: **http://localhost:5174/**

## 🔑 测试账号

- **手机号**: 13800138000
- **密码**: 123456
- **用户类型**: PC管理员 (pc_admin)

## 🎯 功能测试清单

### ✅ 已修复并可测试
- [x] 登录功能
- [x] Token 认证
- [x] 用户列表
- [x] 分页功能
- [x] 路由守卫

### 🔄 待测试功能
- [ ] 用户详情查看
- [ ] 用户信息编辑
- [ ] 用户状态切换（启用/禁用/封禁）
- [ ] 用户删除
- [ ] 批量删除
- [ ] 搜索过滤（手机号/用户名）
- [ ] 用户类型筛选
- [ ] 状态筛选
- [ ] 密码重置

## 🐛 已修复的问题

### 1. Axios 类型导入错误
**错误信息**:
```
SyntaxError: The requested module does not provide an export named 'AxiosInstance'
```

**解决方案**:
```typescript
// ❌ 错误
import axios, { AxiosInstance } from 'axios'

// ✅ 正确
import axios from 'axios'
import type { AxiosInstance } from 'axios'
```

### 2. API 参数不匹配
- 前端使用 `page_size` → 改为 `pageSize`
- 前端使用 `keyword` → 改为 `search`

### 3. 数据结构不匹配
- 后端返回 `users` → 前端期望 `list` ✅ 已修复
- 后端返回 `user_type` → 前端期望 `role` ✅ 已修复

### 4. Token 存储键名
- 统一使用 `admin_token` 和 `admin_user`

## 📁 项目结构

```
admin-console/
├── src/
│   ├── api/              # API 接口
│   │   ├── request.ts    # Axios 配置
│   │   ├── auth.ts       # 认证接口
│   │   └── user.ts       # 用户接口
│   ├── views/            # 页面组件
│   │   ├── Login.vue     # 登录页
│   │   ├── Dashboard.vue # 仪表盘
│   │   └── users/        # 用户管理
│   ├── router/           # 路由配置
│   ├── stores/           # 状态管理
│   └── styles/           # 样式文件
├── 测试登录.html          # 登录测试工具
├── 测试结果.md            # 测试结果报告
└── 快速开始.md            # 本文档
```

## 🔍 调试技巧

### 1. 查看网络请求
打开浏览器开发者工具 (F12) → Network 标签

### 2. 查看 Console 日志
开发者工具 → Console 标签

### 3. 查看 LocalStorage
开发者工具 → Application → Local Storage → http://localhost:5174

应该看到:
- `admin_token`: JWT token
- `admin_user`: 用户信息 JSON

### 4. 测试 API
使用提供的 `测试登录.html` 文件

## 🌐 相关链接

- **管理端前端**: http://localhost:5174/
- **后端 API**: http://localhost:3000/api/v1/

## ❓ 常见问题

### Q: 登录后跳转到空白页？
A: 检查路由守卫和 token 是否正确保存

### Q: API 请求 401 错误？
A: 检查 token 是否过期或格式不正确

### Q: 用户列表显示为空？
A: 检查后端数据库是否有数据

### Q: 页面样式错乱？
A: 检查 Element Plus 是否正确安装和引入
